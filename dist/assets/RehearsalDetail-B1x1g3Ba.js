import{r as l,R as M,n as Ie,j as u,o as Ln,p as zn,h as Pn,q as Bn,b as Fn}from"./index-DsEjXmEw.js";import{B as Qt,f as Pt}from"./dates-DLBrmLeP.js";import{M as $n}from"./Modal-BW9_-ui1.js";import{I as mt}from"./Input-C8zBtfFX.js";import{T as bt}from"./Textarea-CuJbGIRy.js";import{B as P}from"./Button-DCCwLZlP.js";import{u as Xn,S as Yn,a as Zt}from"./useFormValidation-B9b7cUl7.js";import{C as en}from"./ConfirmDialog-11iSsLTs.js";function Kn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return l.useMemo(()=>r=>{t.forEach(s=>s(r))},t)}const st=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function De(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function Dt(e){return"nodeType"in e}function B(e){var t,n;return e?De(e)?e:Dt(e)&&(t=(n=e.ownerDocument)==null?void 0:n.defaultView)!=null?t:window:window}function Ct(e){const{Document:t}=B(e);return e instanceof t}function Fe(e){return De(e)?!1:e instanceof B(e).HTMLElement}function tn(e){return e instanceof B(e).SVGElement}function Ce(e){return e?De(e)?e.document:Dt(e)?Ct(e)?e:Fe(e)||tn(e)?e.ownerDocument:document:document:document}const G=st?l.useLayoutEffect:l.useEffect;function ot(e){const t=l.useRef(e);return G(()=>{t.current=e}),l.useCallback(function(){for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return t.current==null?void 0:t.current(...r)},[])}function Un(){const e=l.useRef(null),t=l.useCallback((r,s)=>{e.current=setInterval(r,s)},[]),n=l.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,n]}function Pe(e,t){t===void 0&&(t=[e]);const n=l.useRef(e);return G(()=>{n.current!==e&&(n.current=e)},t),n}function $e(e,t){const n=l.useRef();return l.useMemo(()=>{const r=e(n.current);return n.current=r,r},[...t])}function Qe(e){const t=ot(e),n=l.useRef(null),r=l.useCallback(s=>{s!==n.current&&(t==null||t(s,n.current)),n.current=s},[]);return[n,r]}function Ze(e){const t=l.useRef();return l.useEffect(()=>{t.current=e},[e]),t.current}let ft={};function Xe(e,t){return l.useMemo(()=>{if(t)return t;const n=ft[e]==null?0:ft[e]+1;return ft[e]=n,e+"-"+n},[e,t])}function nn(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];return r.reduce((o,i)=>{const a=Object.entries(i);for(const[d,c]of a){const f=o[d];f!=null&&(o[d]=f+e*c)}return o},{...t})}}const we=nn(1),et=nn(-1);function Vn(e){return"clientX"in e&&"clientY"in e}function it(e){if(!e)return!1;const{KeyboardEvent:t}=B(e.target);return t&&e instanceof t}function Wn(e){if(!e)return!1;const{TouchEvent:t}=B(e.target);return t&&e instanceof t}function tt(e){if(Wn(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return Vn(e)?{x:e.clientX,y:e.clientY}:null}const he=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[he.Translate.toString(e),he.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:r}=e;return t+" "+n+"ms "+r}}}),Bt="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function Hn(e){return e.matches(Bt)?e:e.querySelector(Bt)}const qn={display:"none"};function Gn(e){let{id:t,value:n}=e;return M.createElement("div",{id:t,style:qn},n)}function Jn(e){let{id:t,announcement:n,ariaLiveType:r="assertive"}=e;const s={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return M.createElement("div",{id:t,style:s,role:"status","aria-live":r,"aria-atomic":!0},n)}function _n(){const[e,t]=l.useState("");return{announce:l.useCallback(r=>{r!=null&&t(r)},[]),announcement:e}}const rn=l.createContext(null);function Qn(e){const t=l.useContext(rn);l.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function Zn(){const[e]=l.useState(()=>new Set),t=l.useCallback(r=>(e.add(r),()=>e.delete(r)),[e]);return[l.useCallback(r=>{let{type:s,event:o}=r;e.forEach(i=>{var a;return(a=i[s])==null?void 0:a.call(i,o)})},[e]),t]}const er={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},tr={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function nr(e){let{announcements:t=tr,container:n,hiddenTextDescribedById:r,screenReaderInstructions:s=er}=e;const{announce:o,announcement:i}=_n(),a=Xe("DndLiveRegion"),[d,c]=l.useState(!1);if(l.useEffect(()=>{c(!0)},[]),Qn(l.useMemo(()=>({onDragStart(h){let{active:m}=h;o(t.onDragStart({active:m}))},onDragMove(h){let{active:m,over:v}=h;t.onDragMove&&o(t.onDragMove({active:m,over:v}))},onDragOver(h){let{active:m,over:v}=h;o(t.onDragOver({active:m,over:v}))},onDragEnd(h){let{active:m,over:v}=h;o(t.onDragEnd({active:m,over:v}))},onDragCancel(h){let{active:m,over:v}=h;o(t.onDragCancel({active:m,over:v}))}}),[o,t])),!d)return null;const f=M.createElement(M.Fragment,null,M.createElement(Gn,{id:r,value:s.draggable}),M.createElement(Jn,{id:a,announcement:i}));return n?Ie.createPortal(f,n):f}var I;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(I||(I={}));function nt(){}function rr(e,t){return l.useMemo(()=>({sensor:e,options:t??{}}),[e,t])}function sr(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return l.useMemo(()=>[...t].filter(r=>r!=null),[...t])}const J=Object.freeze({x:0,y:0});function or(e,t){const n=tt(e);if(!n)return"0 0";const r={x:(n.x-t.left)/t.width*100,y:(n.y-t.top)/t.height*100};return r.x+"% "+r.y+"%"}function ir(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return r-n}function ar(e,t){if(!e||e.length===0)return null;const[n]=e;return n[t]}function lr(e,t){const n=Math.max(t.top,e.top),r=Math.max(t.left,e.left),s=Math.min(t.left+t.width,e.left+e.width),o=Math.min(t.top+t.height,e.top+e.height),i=s-r,a=o-n;if(r<s&&n<o){const d=t.width*t.height,c=e.width*e.height,f=i*a,h=f/(d+c-f);return Number(h.toFixed(4))}return 0}const cr=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const s=[];for(const o of r){const{id:i}=o,a=n.get(i);if(a){const d=lr(a,t);d>0&&s.push({id:i,data:{droppableContainer:o,value:d}})}}return s.sort(ir)};function dr(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}function sn(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:J}function ur(e){return function(n){for(var r=arguments.length,s=new Array(r>1?r-1:0),o=1;o<r;o++)s[o-1]=arguments[o];return s.reduce((i,a)=>({...i,top:i.top+e*a.y,bottom:i.bottom+e*a.y,left:i.left+e*a.x,right:i.right+e*a.x}),{...n})}}const fr=ur(1);function on(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function hr(e,t,n){const r=on(t);if(!r)return e;const{scaleX:s,scaleY:o,x:i,y:a}=r,d=e.left-i-(1-s)*parseFloat(n),c=e.top-a-(1-o)*parseFloat(n.slice(n.indexOf(" ")+1)),f=s?e.width/s:e.width,h=o?e.height/o:e.height;return{width:f,height:h,top:c,right:d+f,bottom:c+h,left:d}}const gr={ignoreTransform:!1};function Se(e,t){t===void 0&&(t=gr);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:c,transformOrigin:f}=B(e).getComputedStyle(e);c&&(n=hr(n,c,f))}const{top:r,left:s,width:o,height:i,bottom:a,right:d}=n;return{top:r,left:s,width:o,height:i,bottom:a,right:d}}function Ft(e){return Se(e,{ignoreTransform:!0})}function vr(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}function pr(e,t){return t===void 0&&(t=B(e).getComputedStyle(e)),t.position==="fixed"}function mr(e,t){t===void 0&&(t=B(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(s=>{const o=t[s];return typeof o=="string"?n.test(o):!1})}function St(e,t){const n=[];function r(s){if(t!=null&&n.length>=t||!s)return n;if(Ct(s)&&s.scrollingElement!=null&&!n.includes(s.scrollingElement))return n.push(s.scrollingElement),n;if(!Fe(s)||tn(s)||n.includes(s))return n;const o=B(e).getComputedStyle(s);return s!==e&&mr(s,o)&&n.push(s),pr(s,o)?n:r(s.parentNode)}return e?r(e):n}function an(e){const[t]=St(e,1);return t??null}function ht(e){return!st||!e?null:De(e)?e:Dt(e)?Ct(e)||e===Ce(e).scrollingElement?window:Fe(e)?e:null:null}function ln(e){return De(e)?e.scrollX:e.scrollLeft}function cn(e){return De(e)?e.scrollY:e.scrollTop}function xt(e){return{x:ln(e),y:cn(e)}}var k;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(k||(k={}));function dn(e){return!st||!e?!1:e===document.scrollingElement}function un(e){const t={x:0,y:0},n=dn(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},r={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height},s=e.scrollTop<=t.y,o=e.scrollLeft<=t.x,i=e.scrollTop>=r.y,a=e.scrollLeft>=r.x;return{isTop:s,isLeft:o,isBottom:i,isRight:a,maxScroll:r,minScroll:t}}const br={x:.2,y:.2};function xr(e,t,n,r,s){let{top:o,left:i,right:a,bottom:d}=n;r===void 0&&(r=10),s===void 0&&(s=br);const{isTop:c,isBottom:f,isLeft:h,isRight:m}=un(e),v={x:0,y:0},S={x:0,y:0},p={height:t.height*s.y,width:t.width*s.x};return!c&&o<=t.top+p.height?(v.y=k.Backward,S.y=r*Math.abs((t.top+p.height-o)/p.height)):!f&&d>=t.bottom-p.height&&(v.y=k.Forward,S.y=r*Math.abs((t.bottom-p.height-d)/p.height)),!m&&a>=t.right-p.width?(v.x=k.Forward,S.x=r*Math.abs((t.right-p.width-a)/p.width)):!h&&i<=t.left+p.width&&(v.x=k.Backward,S.x=r*Math.abs((t.left+p.width-i)/p.width)),{direction:v,speed:S}}function yr(e){if(e===document.scrollingElement){const{innerWidth:o,innerHeight:i}=window;return{top:0,left:0,right:o,bottom:i,width:o,height:i}}const{top:t,left:n,right:r,bottom:s}=e.getBoundingClientRect();return{top:t,left:n,right:r,bottom:s,width:e.clientWidth,height:e.clientHeight}}function fn(e){return e.reduce((t,n)=>we(t,xt(n)),J)}function wr(e){return e.reduce((t,n)=>t+ln(n),0)}function Dr(e){return e.reduce((t,n)=>t+cn(n),0)}function hn(e,t){if(t===void 0&&(t=Se),!e)return;const{top:n,left:r,bottom:s,right:o}=t(e);an(e)&&(s<=0||o<=0||n>=window.innerHeight||r>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const Cr=[["x",["left","right"],wr],["y",["top","bottom"],Dr]];class Rt{constructor(t,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=St(n),s=fn(r);this.rect={...t},this.width=t.width,this.height=t.height;for(const[o,i,a]of Cr)for(const d of i)Object.defineProperty(this,d,{get:()=>{const c=a(r),f=s[o]-c;return this.rect[d]+f},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class ke{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...n)})},this.target=t}add(t,n,r){var s;(s=this.target)==null||s.addEventListener(t,n,r),this.listeners.push([t,n,r])}}function Sr(e){const{EventTarget:t}=B(e);return e instanceof t?e:Ce(e)}function gt(e,t){const n=Math.abs(e.x),r=Math.abs(e.y);return typeof t=="number"?Math.sqrt(n**2+r**2)>t:"x"in t&&"y"in t?n>t.x&&r>t.y:"x"in t?n>t.x:"y"in t?r>t.y:!1}var W;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(W||(W={}));function $t(e){e.preventDefault()}function Rr(e){e.stopPropagation()}var E;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(E||(E={}));const gn={start:[E.Space,E.Enter],cancel:[E.Esc],end:[E.Space,E.Enter,E.Tab]},Nr=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case E.Right:return{...n,x:n.x+25};case E.Left:return{...n,x:n.x-25};case E.Down:return{...n,y:n.y+25};case E.Up:return{...n,y:n.y-25}}};class vn{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:n}}=t;this.props=t,this.listeners=new ke(Ce(n)),this.windowListeners=new ke(B(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(W.Resize,this.handleCancel),this.windowListeners.add(W.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(W.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:n}=this.props,r=t.node.current;r&&hn(r),n(J)}handleKeyDown(t){if(it(t)){const{active:n,context:r,options:s}=this.props,{keyboardCodes:o=gn,coordinateGetter:i=Nr,scrollBehavior:a="smooth"}=s,{code:d}=t;if(o.end.includes(d)){this.handleEnd(t);return}if(o.cancel.includes(d)){this.handleCancel(t);return}const{collisionRect:c}=r.current,f=c?{x:c.left,y:c.top}:J;this.referenceCoordinates||(this.referenceCoordinates=f);const h=i(t,{active:n,context:r.current,currentCoordinates:f});if(h){const m=et(h,f),v={x:0,y:0},{scrollableAncestors:S}=r.current;for(const p of S){const b=t.code,{isTop:y,isRight:g,isLeft:x,isBottom:w,maxScroll:R,minScroll:N}=un(p),C=yr(p),D={x:Math.min(b===E.Right?C.right-C.width/2:C.right,Math.max(b===E.Right?C.left:C.left+C.width/2,h.x)),y:Math.min(b===E.Down?C.bottom-C.height/2:C.bottom,Math.max(b===E.Down?C.top:C.top+C.height/2,h.y))},T=b===E.Right&&!g||b===E.Left&&!x,O=b===E.Down&&!w||b===E.Up&&!y;if(T&&D.x!==h.x){const A=p.scrollLeft+m.x,H=b===E.Right&&A<=R.x||b===E.Left&&A>=N.x;if(H&&!m.y){p.scrollTo({left:A,behavior:a});return}H?v.x=p.scrollLeft-A:v.x=b===E.Right?p.scrollLeft-R.x:p.scrollLeft-N.x,v.x&&p.scrollBy({left:-v.x,behavior:a});break}else if(O&&D.y!==h.y){const A=p.scrollTop+m.y,H=b===E.Down&&A<=R.y||b===E.Up&&A>=N.y;if(H&&!m.x){p.scrollTo({top:A,behavior:a});return}H?v.y=p.scrollTop-A:v.y=b===E.Down?p.scrollTop-R.y:p.scrollTop-N.y,v.y&&p.scrollBy({top:-v.y,behavior:a});break}}this.handleMove(t,we(et(h,this.referenceCoordinates),v))}}}handleMove(t,n){const{onMove:r}=this.props;t.preventDefault(),r(n)}handleEnd(t){const{onEnd:n}=this.props;t.preventDefault(),this.detach(),n()}handleCancel(t){const{onCancel:n}=this.props;t.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}vn.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:r=gn,onActivation:s}=t,{active:o}=n;const{code:i}=e.nativeEvent;if(r.start.includes(i)){const a=o.activatorNode.current;return a&&e.target!==a?!1:(e.preventDefault(),s==null||s({event:e.nativeEvent}),!0)}return!1}}];function Xt(e){return!!(e&&"distance"in e)}function Yt(e){return!!(e&&"delay"in e)}class Nt{constructor(t,n,r){var s;r===void 0&&(r=Sr(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=n;const{event:o}=t,{target:i}=o;this.props=t,this.events=n,this.document=Ce(i),this.documentListeners=new ke(this.document),this.listeners=new ke(r),this.windowListeners=new ke(B(i)),this.initialCoordinates=(s=tt(o))!=null?s:J,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:n,bypassActivationConstraint:r}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(W.Resize,this.handleCancel),this.windowListeners.add(W.DragStart,$t),this.windowListeners.add(W.VisibilityChange,this.handleCancel),this.windowListeners.add(W.ContextMenu,$t),this.documentListeners.add(W.Keydown,this.handleKeydown),n){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(Yt(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(Xt(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,n){const{active:r,onPending:s}=this.props;s(r,t,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:t}=this,{onStart:n}=this.props;t&&(this.activated=!0,this.documentListeners.add(W.Click,Rr,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(W.SelectionChange,this.removeTextSelection),n(t))}handleMove(t){var n;const{activated:r,initialCoordinates:s,props:o}=this,{onMove:i,options:{activationConstraint:a}}=o;if(!s)return;const d=(n=tt(t))!=null?n:J,c=et(s,d);if(!r&&a){if(Xt(a)){if(a.tolerance!=null&&gt(c,a.tolerance))return this.handleCancel();if(gt(c,a.distance))return this.handleStart()}if(Yt(a)&&gt(c,a.tolerance))return this.handleCancel();this.handlePending(a,c);return}t.cancelable&&t.preventDefault(),i(d)}handleEnd(){const{onAbort:t,onEnd:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleCancel(){const{onAbort:t,onCancel:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleKeydown(t){t.code===E.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const Er={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class Et extends Nt{constructor(t){const{event:n}=t,r=Ce(n.target);super(t,Er,r)}}Et.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return!n.isPrimary||n.button!==0?!1:(r==null||r({event:n}),!0)}}];const jr={move:{name:"mousemove"},end:{name:"mouseup"}};var yt;(function(e){e[e.RightClick=2]="RightClick"})(yt||(yt={}));class Tr extends Nt{constructor(t){super(t,jr,Ce(t.event.target))}}Tr.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return n.button===yt.RightClick?!1:(r==null||r({event:n}),!0)}}];const vt={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class Ar extends Nt{constructor(t){super(t,vt)}static setup(){return window.addEventListener(vt.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(vt.move.name,t)};function t(){}}}Ar.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;const{touches:s}=n;return s.length>1?!1:(r==null||r({event:n}),!0)}}];var Le;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(Le||(Le={}));var rt;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(rt||(rt={}));function Mr(e){let{acceleration:t,activator:n=Le.Pointer,canScroll:r,draggingRect:s,enabled:o,interval:i=5,order:a=rt.TreeOrder,pointerCoordinates:d,scrollableAncestors:c,scrollableAncestorRects:f,delta:h,threshold:m}=e;const v=Ir({delta:h,disabled:!o}),[S,p]=Un(),b=l.useRef({x:0,y:0}),y=l.useRef({x:0,y:0}),g=l.useMemo(()=>{switch(n){case Le.Pointer:return d?{top:d.y,bottom:d.y,left:d.x,right:d.x}:null;case Le.DraggableRect:return s}},[n,s,d]),x=l.useRef(null),w=l.useCallback(()=>{const N=x.current;if(!N)return;const C=b.current.x*y.current.x,D=b.current.y*y.current.y;N.scrollBy(C,D)},[]),R=l.useMemo(()=>a===rt.TreeOrder?[...c].reverse():c,[a,c]);l.useEffect(()=>{if(!o||!c.length||!g){p();return}for(const N of R){if((r==null?void 0:r(N))===!1)continue;const C=c.indexOf(N),D=f[C];if(!D)continue;const{direction:T,speed:O}=xr(N,D,g,t,m);for(const A of["x","y"])v[A][T[A]]||(O[A]=0,T[A]=0);if(O.x>0||O.y>0){p(),x.current=N,S(w,i),b.current=O,y.current=T;return}}b.current={x:0,y:0},y.current={x:0,y:0},p()},[t,w,r,p,o,i,JSON.stringify(g),JSON.stringify(v),S,c,R,f,JSON.stringify(m)])}const Or={x:{[k.Backward]:!1,[k.Forward]:!1},y:{[k.Backward]:!1,[k.Forward]:!1}};function Ir(e){let{delta:t,disabled:n}=e;const r=Ze(t);return $e(s=>{if(n||!r||!s)return Or;const o={x:Math.sign(t.x-r.x),y:Math.sign(t.y-r.y)};return{x:{[k.Backward]:s.x[k.Backward]||o.x===-1,[k.Forward]:s.x[k.Forward]||o.x===1},y:{[k.Backward]:s.y[k.Backward]||o.y===-1,[k.Forward]:s.y[k.Forward]||o.y===1}}},[n,t,r])}function kr(e,t){const n=t!=null?e.get(t):void 0,r=n?n.node.current:null;return $e(s=>{var o;return t==null?null:(o=r??s)!=null?o:null},[r,t])}function Lr(e,t){return l.useMemo(()=>e.reduce((n,r)=>{const{sensor:s}=r,o=s.activators.map(i=>({eventName:i.eventName,handler:t(i.handler,r)}));return[...n,...o]},[]),[e,t])}var Be;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(Be||(Be={}));var wt;(function(e){e.Optimized="optimized"})(wt||(wt={}));const Kt=new Map;function zr(e,t){let{dragging:n,dependencies:r,config:s}=t;const[o,i]=l.useState(null),{frequency:a,measure:d,strategy:c}=s,f=l.useRef(e),h=b(),m=Pe(h),v=l.useCallback(function(y){y===void 0&&(y=[]),!m.current&&i(g=>g===null?y:g.concat(y.filter(x=>!g.includes(x))))},[m]),S=l.useRef(null),p=$e(y=>{if(h&&!n)return Kt;if(!y||y===Kt||f.current!==e||o!=null){const g=new Map;for(let x of e){if(!x)continue;if(o&&o.length>0&&!o.includes(x.id)&&x.rect.current){g.set(x.id,x.rect.current);continue}const w=x.node.current,R=w?new Rt(d(w),w):null;x.rect.current=R,R&&g.set(x.id,R)}return g}return y},[e,o,n,h,d]);return l.useEffect(()=>{f.current=e},[e]),l.useEffect(()=>{h||v()},[n,h]),l.useEffect(()=>{o&&o.length>0&&i(null)},[JSON.stringify(o)]),l.useEffect(()=>{h||typeof a!="number"||S.current!==null||(S.current=setTimeout(()=>{v(),S.current=null},a))},[a,h,v,...r]),{droppableRects:p,measureDroppableContainers:v,measuringScheduled:o!=null};function b(){switch(c){case Be.Always:return!1;case Be.BeforeDragging:return n;default:return!n}}}function jt(e,t){return $e(n=>e?n||(typeof t=="function"?t(e):e):null,[t,e])}function Pr(e,t){return jt(e,t)}function Br(e){let{callback:t,disabled:n}=e;const r=ot(t),s=l.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:o}=window;return new o(r)},[r,n]);return l.useEffect(()=>()=>s==null?void 0:s.disconnect(),[s]),s}function at(e){let{callback:t,disabled:n}=e;const r=ot(t),s=l.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:o}=window;return new o(r)},[n]);return l.useEffect(()=>()=>s==null?void 0:s.disconnect(),[s]),s}function Fr(e){return new Rt(Se(e),e)}function Ut(e,t,n){t===void 0&&(t=Fr);const[r,s]=l.useState(null);function o(){s(d=>{if(!e)return null;if(e.isConnected===!1){var c;return(c=d??n)!=null?c:null}const f=t(e);return JSON.stringify(d)===JSON.stringify(f)?d:f})}const i=Br({callback(d){if(e)for(const c of d){const{type:f,target:h}=c;if(f==="childList"&&h instanceof HTMLElement&&h.contains(e)){o();break}}}}),a=at({callback:o});return G(()=>{o(),e?(a==null||a.observe(e),i==null||i.observe(document.body,{childList:!0,subtree:!0})):(a==null||a.disconnect(),i==null||i.disconnect())},[e]),r}function $r(e){const t=jt(e);return sn(e,t)}const Vt=[];function Xr(e){const t=l.useRef(e),n=$e(r=>e?r&&r!==Vt&&e&&t.current&&e.parentNode===t.current.parentNode?r:St(e):Vt,[e]);return l.useEffect(()=>{t.current=e},[e]),n}function Yr(e){const[t,n]=l.useState(null),r=l.useRef(e),s=l.useCallback(o=>{const i=ht(o.target);i&&n(a=>a?(a.set(i,xt(i)),new Map(a)):null)},[]);return l.useEffect(()=>{const o=r.current;if(e!==o){i(o);const a=e.map(d=>{const c=ht(d);return c?(c.addEventListener("scroll",s,{passive:!0}),[c,xt(c)]):null}).filter(d=>d!=null);n(a.length?new Map(a):null),r.current=e}return()=>{i(e),i(o)};function i(a){a.forEach(d=>{const c=ht(d);c==null||c.removeEventListener("scroll",s)})}},[s,e]),l.useMemo(()=>e.length?t?Array.from(t.values()).reduce((o,i)=>we(o,i),J):fn(e):J,[e,t])}function Wt(e,t){t===void 0&&(t=[]);const n=l.useRef(null);return l.useEffect(()=>{n.current=null},t),l.useEffect(()=>{const r=e!==J;r&&!n.current&&(n.current=e),!r&&n.current&&(n.current=null)},[e]),n.current?et(e,n.current):J}function Kr(e){l.useEffect(()=>{if(!st)return;const t=e.map(n=>{let{sensor:r}=n;return r.setup==null?void 0:r.setup()});return()=>{for(const n of t)n==null||n()}},e.map(t=>{let{sensor:n}=t;return n}))}function Ur(e,t){return l.useMemo(()=>e.reduce((n,r)=>{let{eventName:s,handler:o}=r;return n[s]=i=>{o(i,t)},n},{}),[e,t])}function pn(e){return l.useMemo(()=>e?vr(e):null,[e])}const Ht=[];function Vr(e,t){t===void 0&&(t=Se);const[n]=e,r=pn(n?B(n):null),[s,o]=l.useState(Ht);function i(){o(()=>e.length?e.map(d=>dn(d)?r:new Rt(t(d),d)):Ht)}const a=at({callback:i});return G(()=>{a==null||a.disconnect(),i(),e.forEach(d=>a==null?void 0:a.observe(d))},[e]),s}function mn(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return Fe(t)?t:e}function Wr(e){let{measure:t}=e;const[n,r]=l.useState(null),s=l.useCallback(c=>{for(const{target:f}of c)if(Fe(f)){r(h=>{const m=t(f);return h?{...h,width:m.width,height:m.height}:m});break}},[t]),o=at({callback:s}),i=l.useCallback(c=>{const f=mn(c);o==null||o.disconnect(),f&&(o==null||o.observe(f)),r(f?t(f):null)},[t,o]),[a,d]=Qe(i);return l.useMemo(()=>({nodeRef:a,rect:n,setRef:d}),[n,a,d])}const Hr=[{sensor:Et,options:{}},{sensor:vn,options:{}}],qr={current:{}},_e={draggable:{measure:Ft},droppable:{measure:Ft,strategy:Be.WhileDragging,frequency:wt.Optimized},dragOverlay:{measure:Se}};class ze extends Map{get(t){var n;return t!=null&&(n=super.get(t))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:n}=t;return!n})}getNodeFor(t){var n,r;return(n=(r=this.get(t))==null?void 0:r.node.current)!=null?n:void 0}}const Gr={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new ze,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:nt},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:_e,measureDroppableContainers:nt,windowRect:null,measuringScheduled:!1},bn={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:nt,draggableNodes:new Map,over:null,measureDroppableContainers:nt},Ye=l.createContext(bn),xn=l.createContext(Gr);function Jr(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new ze}}}function _r(e,t){switch(t.type){case I.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case I.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case I.DragEnd:case I.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case I.RegisterDroppable:{const{element:n}=t,{id:r}=n,s=new ze(e.droppable.containers);return s.set(r,n),{...e,droppable:{...e.droppable,containers:s}}}case I.SetDroppableDisabled:{const{id:n,key:r,disabled:s}=t,o=e.droppable.containers.get(n);if(!o||r!==o.key)return e;const i=new ze(e.droppable.containers);return i.set(n,{...o,disabled:s}),{...e,droppable:{...e.droppable,containers:i}}}case I.UnregisterDroppable:{const{id:n,key:r}=t,s=e.droppable.containers.get(n);if(!s||r!==s.key)return e;const o=new ze(e.droppable.containers);return o.delete(n),{...e,droppable:{...e.droppable,containers:o}}}default:return e}}function Qr(e){let{disabled:t}=e;const{active:n,activatorEvent:r,draggableNodes:s}=l.useContext(Ye),o=Ze(r),i=Ze(n==null?void 0:n.id);return l.useEffect(()=>{if(!t&&!r&&o&&i!=null){if(!it(o)||document.activeElement===o.target)return;const a=s.get(i);if(!a)return;const{activatorNode:d,node:c}=a;if(!d.current&&!c.current)return;requestAnimationFrame(()=>{for(const f of[d.current,c.current]){if(!f)continue;const h=Hn(f);if(h){h.focus();break}}})}},[r,t,s,i,o]),null}function yn(e,t){let{transform:n,...r}=t;return e!=null&&e.length?e.reduce((s,o)=>o({transform:s,...r}),n):n}function Zr(e){return l.useMemo(()=>({draggable:{..._e.draggable,...e==null?void 0:e.draggable},droppable:{..._e.droppable,...e==null?void 0:e.droppable},dragOverlay:{..._e.dragOverlay,...e==null?void 0:e.dragOverlay}}),[e==null?void 0:e.draggable,e==null?void 0:e.droppable,e==null?void 0:e.dragOverlay])}function es(e){let{activeNode:t,measure:n,initialRect:r,config:s=!0}=e;const o=l.useRef(!1),{x:i,y:a}=typeof s=="boolean"?{x:s,y:s}:s;G(()=>{if(!i&&!a||!t){o.current=!1;return}if(o.current||!r)return;const c=t==null?void 0:t.node.current;if(!c||c.isConnected===!1)return;const f=n(c),h=sn(f,r);if(i||(h.x=0),a||(h.y=0),o.current=!0,Math.abs(h.x)>0||Math.abs(h.y)>0){const m=an(c);m&&m.scrollBy({top:h.y,left:h.x})}},[t,i,a,r,n])}const lt=l.createContext({...J,scaleX:1,scaleY:1});var fe;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(fe||(fe={}));const ts=l.memo(function(t){var n,r,s,o;let{id:i,accessibility:a,autoScroll:d=!0,children:c,sensors:f=Hr,collisionDetection:h=cr,measuring:m,modifiers:v,...S}=t;const p=l.useReducer(_r,void 0,Jr),[b,y]=p,[g,x]=Zn(),[w,R]=l.useState(fe.Uninitialized),N=w===fe.Initialized,{draggable:{active:C,nodes:D,translate:T},droppable:{containers:O}}=b,A=C!=null?D.get(C):null,H=l.useRef({initial:null,translated:null}),q=l.useMemo(()=>{var z;return C!=null?{id:C,data:(z=A==null?void 0:A.data)!=null?z:qr,rect:H}:null},[C,A]),_=l.useRef(null),[Re,Ke]=l.useState(null),[$,Ue]=l.useState(null),te=Pe(S,Object.values(S)),Ne=Xe("DndDescribedBy",i),Ve=l.useMemo(()=>O.getEnabled(),[O]),F=Zr(m),{droppableRects:ne,measureDroppableContainers:ge,measuringScheduled:Ee}=zr(Ve,{dragging:N,dependencies:[T.x,T.y],config:F.droppable}),U=kr(D,C),We=l.useMemo(()=>$?tt($):null,[$]),ie=kn(),re=Pr(U,F.draggable.measure);es({activeNode:C!=null?D.get(C):null,config:ie.layoutShiftCompensation,initialRect:re,measure:F.draggable.measure});const j=Ut(U,F.draggable.measure,re),je=Ut(U?U.parentElement:null),Q=l.useRef({activatorEvent:null,active:null,activeNode:U,collisionRect:null,collisions:null,droppableRects:ne,draggableNodes:D,draggingNode:null,draggingNodeRect:null,droppableContainers:O,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),ve=O.getNodeFor((n=Q.current.over)==null?void 0:n.id),se=Wr({measure:F.dragOverlay.measure}),pe=(r=se.nodeRef.current)!=null?r:U,me=N?(s=se.rect)!=null?s:j:null,Tt=!!(se.nodeRef.current&&se.rect),At=$r(Tt?null:j),ct=pn(pe?B(pe):null),ae=Xr(N?ve??U:null),He=Vr(ae),qe=yn(v,{transform:{x:T.x-At.x,y:T.y-At.y,scaleX:1,scaleY:1},activatorEvent:$,active:q,activeNodeRect:j,containerNodeRect:je,draggingNodeRect:me,over:Q.current.over,overlayNodeRect:se.rect,scrollableAncestors:ae,scrollableAncestorRects:He,windowRect:ct}),Mt=We?we(We,T):null,Ot=Yr(ae),En=Wt(Ot),jn=Wt(Ot,[j]),be=we(qe,En),xe=me?fr(me,qe):null,Te=q&&xe?h({active:q,collisionRect:xe,droppableRects:ne,droppableContainers:Ve,pointerCoordinates:Mt}):null,It=ar(Te,"id"),[le,kt]=l.useState(null),Tn=Tt?qe:we(qe,jn),An=dr(Tn,(o=le==null?void 0:le.rect)!=null?o:null,j),dt=l.useRef(null),Lt=l.useCallback((z,X)=>{let{sensor:Y,options:ce}=X;if(_.current==null)return;const V=D.get(_.current);if(!V)return;const K=z.nativeEvent,Z=new Y({active:_.current,activeNode:V,event:K,options:ce,context:Q,onAbort(L){if(!D.get(L))return;const{onDragAbort:ee}=te.current,oe={id:L};ee==null||ee(oe),g({type:"onDragAbort",event:oe})},onPending(L,de,ee,oe){if(!D.get(L))return;const{onDragPending:Me}=te.current,ue={id:L,constraint:de,initialCoordinates:ee,offset:oe};Me==null||Me(ue),g({type:"onDragPending",event:ue})},onStart(L){const de=_.current;if(de==null)return;const ee=D.get(de);if(!ee)return;const{onDragStart:oe}=te.current,Ae={activatorEvent:K,active:{id:de,data:ee.data,rect:H}};Ie.unstable_batchedUpdates(()=>{oe==null||oe(Ae),R(fe.Initializing),y({type:I.DragStart,initialCoordinates:L,active:de}),g({type:"onDragStart",event:Ae}),Ke(dt.current),Ue(K)})},onMove(L){y({type:I.DragMove,coordinates:L})},onEnd:ye(I.DragEnd),onCancel:ye(I.DragCancel)});dt.current=Z;function ye(L){return async function(){const{active:ee,collisions:oe,over:Ae,scrollAdjustedTranslate:Me}=Q.current;let ue=null;if(ee&&Me){const{cancelDrop:Oe}=te.current;ue={activatorEvent:K,active:ee,collisions:oe,delta:Me,over:Ae},L===I.DragEnd&&typeof Oe=="function"&&await Promise.resolve(Oe(ue))&&(L=I.DragCancel)}_.current=null,Ie.unstable_batchedUpdates(()=>{y({type:L}),R(fe.Uninitialized),kt(null),Ke(null),Ue(null),dt.current=null;const Oe=L===I.DragEnd?"onDragEnd":"onDragCancel";if(ue){const ut=te.current[Oe];ut==null||ut(ue),g({type:Oe,event:ue})}})}}},[D]),Mn=l.useCallback((z,X)=>(Y,ce)=>{const V=Y.nativeEvent,K=D.get(ce);if(_.current!==null||!K||V.dndKit||V.defaultPrevented)return;const Z={active:K};z(Y,X.options,Z)===!0&&(V.dndKit={capturedBy:X.sensor},_.current=ce,Lt(Y,X))},[D,Lt]),zt=Lr(f,Mn);Kr(f),G(()=>{j&&w===fe.Initializing&&R(fe.Initialized)},[j,w]),l.useEffect(()=>{const{onDragMove:z}=te.current,{active:X,activatorEvent:Y,collisions:ce,over:V}=Q.current;if(!X||!Y)return;const K={active:X,activatorEvent:Y,collisions:ce,delta:{x:be.x,y:be.y},over:V};Ie.unstable_batchedUpdates(()=>{z==null||z(K),g({type:"onDragMove",event:K})})},[be.x,be.y]),l.useEffect(()=>{const{active:z,activatorEvent:X,collisions:Y,droppableContainers:ce,scrollAdjustedTranslate:V}=Q.current;if(!z||_.current==null||!X||!V)return;const{onDragOver:K}=te.current,Z=ce.get(It),ye=Z&&Z.rect.current?{id:Z.id,rect:Z.rect.current,data:Z.data,disabled:Z.disabled}:null,L={active:z,activatorEvent:X,collisions:Y,delta:{x:V.x,y:V.y},over:ye};Ie.unstable_batchedUpdates(()=>{kt(ye),K==null||K(L),g({type:"onDragOver",event:L})})},[It]),G(()=>{Q.current={activatorEvent:$,active:q,activeNode:U,collisionRect:xe,collisions:Te,droppableRects:ne,draggableNodes:D,draggingNode:pe,draggingNodeRect:me,droppableContainers:O,over:le,scrollableAncestors:ae,scrollAdjustedTranslate:be},H.current={initial:me,translated:xe}},[q,U,Te,xe,D,pe,me,ne,O,le,ae,be]),Mr({...ie,delta:T,draggingRect:xe,pointerCoordinates:Mt,scrollableAncestors:ae,scrollableAncestorRects:He});const On=l.useMemo(()=>({active:q,activeNode:U,activeNodeRect:j,activatorEvent:$,collisions:Te,containerNodeRect:je,dragOverlay:se,draggableNodes:D,droppableContainers:O,droppableRects:ne,over:le,measureDroppableContainers:ge,scrollableAncestors:ae,scrollableAncestorRects:He,measuringConfiguration:F,measuringScheduled:Ee,windowRect:ct}),[q,U,j,$,Te,je,se,D,O,ne,le,ge,ae,He,F,Ee,ct]),In=l.useMemo(()=>({activatorEvent:$,activators:zt,active:q,activeNodeRect:j,ariaDescribedById:{draggable:Ne},dispatch:y,draggableNodes:D,over:le,measureDroppableContainers:ge}),[$,zt,q,j,y,Ne,D,le,ge]);return M.createElement(rn.Provider,{value:x},M.createElement(Ye.Provider,{value:In},M.createElement(xn.Provider,{value:On},M.createElement(lt.Provider,{value:An},c)),M.createElement(Qr,{disabled:(a==null?void 0:a.restoreFocus)===!1})),M.createElement(nr,{...a,hiddenTextDescribedById:Ne}));function kn(){const z=(Re==null?void 0:Re.autoScrollEnabled)===!1,X=typeof d=="object"?d.enabled===!1:d===!1,Y=N&&!z&&!X;return typeof d=="object"?{...d,enabled:Y}:{enabled:Y}}}),ns=l.createContext(null),qt="button",rs="Draggable";function ss(e){let{id:t,data:n,disabled:r=!1,attributes:s}=e;const o=Xe(rs),{activators:i,activatorEvent:a,active:d,activeNodeRect:c,ariaDescribedById:f,draggableNodes:h,over:m}=l.useContext(Ye),{role:v=qt,roleDescription:S="draggable",tabIndex:p=0}=s??{},b=(d==null?void 0:d.id)===t,y=l.useContext(b?lt:ns),[g,x]=Qe(),[w,R]=Qe(),N=Ur(i,t),C=Pe(n);G(()=>(h.set(t,{id:t,key:o,node:g,activatorNode:w,data:C}),()=>{const T=h.get(t);T&&T.key===o&&h.delete(t)}),[h,t]);const D=l.useMemo(()=>({role:v,tabIndex:p,"aria-disabled":r,"aria-pressed":b&&v===qt?!0:void 0,"aria-roledescription":S,"aria-describedby":f.draggable}),[r,v,p,b,S,f.draggable]);return{active:d,activatorEvent:a,activeNodeRect:c,attributes:D,isDragging:b,listeners:r?void 0:N,node:g,over:m,setNodeRef:x,setActivatorNodeRef:R,transform:y}}function wn(){return l.useContext(xn)}const os="Droppable",is={timeout:25};function as(e){let{data:t,disabled:n=!1,id:r,resizeObserverConfig:s}=e;const o=Xe(os),{active:i,dispatch:a,over:d,measureDroppableContainers:c}=l.useContext(Ye),f=l.useRef({disabled:n}),h=l.useRef(!1),m=l.useRef(null),v=l.useRef(null),{disabled:S,updateMeasurementsFor:p,timeout:b}={...is,...s},y=Pe(p??r),g=l.useCallback(()=>{if(!h.current){h.current=!0;return}v.current!=null&&clearTimeout(v.current),v.current=setTimeout(()=>{c(Array.isArray(y.current)?y.current:[y.current]),v.current=null},b)},[b]),x=at({callback:g,disabled:S||!i}),w=l.useCallback((D,T)=>{x&&(T&&(x.unobserve(T),h.current=!1),D&&x.observe(D))},[x]),[R,N]=Qe(w),C=Pe(t);return l.useEffect(()=>{!x||!R.current||(x.disconnect(),h.current=!1,x.observe(R.current))},[R,x]),l.useEffect(()=>(a({type:I.RegisterDroppable,element:{id:r,key:o,disabled:n,node:R,rect:m,data:C}}),()=>a({type:I.UnregisterDroppable,key:o,id:r})),[r]),l.useEffect(()=>{n!==f.current.disabled&&(a({type:I.SetDroppableDisabled,id:r,key:o,disabled:n}),f.current.disabled=n)},[r,o,n,a]),{active:i,rect:m,isOver:(d==null?void 0:d.id)===r,node:R,over:d,setNodeRef:N}}function ls(e){let{animation:t,children:n}=e;const[r,s]=l.useState(null),[o,i]=l.useState(null),a=Ze(n);return!n&&!r&&a&&s(a),G(()=>{if(!o)return;const d=r==null?void 0:r.key,c=r==null?void 0:r.props.id;if(d==null||c==null){s(null);return}Promise.resolve(t(c,o)).then(()=>{s(null)})},[t,r,o]),M.createElement(M.Fragment,null,n,r?l.cloneElement(r,{ref:i}):null)}const cs={x:0,y:0,scaleX:1,scaleY:1};function ds(e){let{children:t}=e;return M.createElement(Ye.Provider,{value:bn},M.createElement(lt.Provider,{value:cs},t))}const us={position:"fixed",touchAction:"none"},fs=e=>it(e)?"transform 250ms ease":void 0,hs=l.forwardRef((e,t)=>{let{as:n,activatorEvent:r,adjustScale:s,children:o,className:i,rect:a,style:d,transform:c,transition:f=fs}=e;if(!a)return null;const h=s?c:{...c,scaleX:1,scaleY:1},m={...us,width:a.width,height:a.height,top:a.top,left:a.left,transform:he.Transform.toString(h),transformOrigin:s&&r?or(r,a):void 0,transition:typeof f=="function"?f(r):f,...d};return M.createElement(n,{className:i,style:m,ref:t},o)}),gs=e=>t=>{let{active:n,dragOverlay:r}=t;const s={},{styles:o,className:i}=e;if(o!=null&&o.active)for(const[a,d]of Object.entries(o.active))d!==void 0&&(s[a]=n.node.style.getPropertyValue(a),n.node.style.setProperty(a,d));if(o!=null&&o.dragOverlay)for(const[a,d]of Object.entries(o.dragOverlay))d!==void 0&&r.node.style.setProperty(a,d);return i!=null&&i.active&&n.node.classList.add(i.active),i!=null&&i.dragOverlay&&r.node.classList.add(i.dragOverlay),function(){for(const[d,c]of Object.entries(s))n.node.style.setProperty(d,c);i!=null&&i.active&&n.node.classList.remove(i.active)}},vs=e=>{let{transform:{initial:t,final:n}}=e;return[{transform:he.Transform.toString(t)},{transform:he.Transform.toString(n)}]},ps={duration:250,easing:"ease",keyframes:vs,sideEffects:gs({styles:{active:{opacity:"0"}}})};function ms(e){let{config:t,draggableNodes:n,droppableContainers:r,measuringConfiguration:s}=e;return ot((o,i)=>{if(t===null)return;const a=n.get(o);if(!a)return;const d=a.node.current;if(!d)return;const c=mn(i);if(!c)return;const{transform:f}=B(i).getComputedStyle(i),h=on(f);if(!h)return;const m=typeof t=="function"?t:bs(t);return hn(d,s.draggable.measure),m({active:{id:o,data:a.data,node:d,rect:s.draggable.measure(d)},draggableNodes:n,dragOverlay:{node:i,rect:s.dragOverlay.measure(c)},droppableContainers:r,measuringConfiguration:s,transform:h})})}function bs(e){const{duration:t,easing:n,sideEffects:r,keyframes:s}={...ps,...e};return o=>{let{active:i,dragOverlay:a,transform:d,...c}=o;if(!t)return;const f={x:a.rect.left-i.rect.left,y:a.rect.top-i.rect.top},h={scaleX:d.scaleX!==1?i.rect.width*d.scaleX/a.rect.width:1,scaleY:d.scaleY!==1?i.rect.height*d.scaleY/a.rect.height:1},m={x:d.x-f.x,y:d.y-f.y,...h},v=s({...c,active:i,dragOverlay:a,transform:{initial:d,final:m}}),[S]=v,p=v[v.length-1];if(JSON.stringify(S)===JSON.stringify(p))return;const b=r==null?void 0:r({active:i,dragOverlay:a,...c}),y=a.node.animate(v,{duration:t,easing:n,fill:"forwards"});return new Promise(g=>{y.onfinish=()=>{b==null||b(),g()}})}}let Gt=0;function xs(e){return l.useMemo(()=>{if(e!=null)return Gt++,Gt},[e])}const ys=M.memo(e=>{let{adjustScale:t=!1,children:n,dropAnimation:r,style:s,transition:o,modifiers:i,wrapperElement:a="div",className:d,zIndex:c=999}=e;const{activatorEvent:f,active:h,activeNodeRect:m,containerNodeRect:v,draggableNodes:S,droppableContainers:p,dragOverlay:b,over:y,measuringConfiguration:g,scrollableAncestors:x,scrollableAncestorRects:w,windowRect:R}=wn(),N=l.useContext(lt),C=xs(h==null?void 0:h.id),D=yn(i,{activatorEvent:f,active:h,activeNodeRect:m,containerNodeRect:v,draggingNodeRect:b.rect,over:y,overlayNodeRect:b.rect,scrollableAncestors:x,scrollableAncestorRects:w,transform:N,windowRect:R}),T=jt(m),O=ms({config:r,draggableNodes:S,droppableContainers:p,measuringConfiguration:g}),A=T?b.setRef:void 0;return M.createElement(ds,null,M.createElement(ls,{animation:O},h&&C?M.createElement(hs,{key:C,id:h.id,ref:A,as:a,activatorEvent:f,adjustScale:t,className:d,transition:o,rect:T,style:{zIndex:c,...s},transform:D},n):null))});function Dn(e,t,n){const r=e.slice();return r.splice(n<0?r.length+n:n,0,r.splice(t,1)[0]),r}function ws(e,t){return e.reduce((n,r,s)=>{const o=t.get(r);return o&&(n[s]=o),n},Array(e.length))}function Ge(e){return e!==null&&e>=0}function Ds(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function Cs(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const Cn=e=>{let{rects:t,activeIndex:n,overIndex:r,index:s}=e;const o=Dn(t,r,n),i=t[s],a=o[s];return!a||!i?null:{x:a.left-i.left,y:a.top-i.top,scaleX:a.width/i.width,scaleY:a.height/i.height}},Je={scaleX:1,scaleY:1},Jt=e=>{var t;let{activeIndex:n,activeNodeRect:r,index:s,rects:o,overIndex:i}=e;const a=(t=o[n])!=null?t:r;if(!a)return null;if(s===n){const c=o[i];return c?{x:0,y:n<i?c.top+c.height-(a.top+a.height):c.top-a.top,...Je}:null}const d=Ss(o,s,n);return s>n&&s<=i?{x:0,y:-a.height-d,...Je}:s<n&&s>=i?{x:0,y:a.height+d,...Je}:{x:0,y:0,...Je}};function Ss(e,t,n){const r=e[t],s=e[t-1],o=e[t+1];return r?n<t?s?r.top-(s.top+s.height):o?o.top-(r.top+r.height):0:o?o.top-(r.top+r.height):s?r.top-(s.top+s.height):0:0}const Sn="Sortable",Rn=M.createContext({activeIndex:-1,containerId:Sn,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:Cn,disabled:{draggable:!1,droppable:!1}});function _t(e){let{children:t,id:n,items:r,strategy:s=Cn,disabled:o=!1}=e;const{active:i,dragOverlay:a,droppableRects:d,over:c,measureDroppableContainers:f}=wn(),h=Xe(Sn,n),m=a.rect!==null,v=l.useMemo(()=>r.map(N=>typeof N=="object"&&"id"in N?N.id:N),[r]),S=i!=null,p=i?v.indexOf(i.id):-1,b=c?v.indexOf(c.id):-1,y=l.useRef(v),g=!Ds(v,y.current),x=b!==-1&&p===-1||g,w=Cs(o);G(()=>{g&&S&&f(v)},[g,v,S,f]),l.useEffect(()=>{y.current=v},[v]);const R=l.useMemo(()=>({activeIndex:p,containerId:h,disabled:w,disableTransforms:x,items:v,overIndex:b,useDragOverlay:m,sortedRects:ws(v,d),strategy:s}),[p,h,w.draggable,w.droppable,x,v,b,d,m,s]);return M.createElement(Rn.Provider,{value:R},t)}const Rs=e=>{let{id:t,items:n,activeIndex:r,overIndex:s}=e;return Dn(n,r,s).indexOf(t)},Ns=e=>{let{containerId:t,isSorting:n,wasDragging:r,index:s,items:o,newIndex:i,previousItems:a,previousContainerId:d,transition:c}=e;return!c||!r||a!==o&&s===i?!1:n?!0:i!==s&&t===d},Es={duration:200,easing:"ease"},Nn="transform",js=he.Transition.toString({property:Nn,duration:0,easing:"linear"}),Ts={roleDescription:"sortable"};function As(e){let{disabled:t,index:n,node:r,rect:s}=e;const[o,i]=l.useState(null),a=l.useRef(n);return G(()=>{if(!t&&n!==a.current&&r.current){const d=s.current;if(d){const c=Se(r.current,{ignoreTransform:!0}),f={x:d.left-c.left,y:d.top-c.top,scaleX:d.width/c.width,scaleY:d.height/c.height};(f.x||f.y)&&i(f)}}n!==a.current&&(a.current=n)},[t,n,r,s]),l.useEffect(()=>{o&&i(null)},[o]),o}function Ms(e){let{animateLayoutChanges:t=Ns,attributes:n,disabled:r,data:s,getNewIndex:o=Rs,id:i,strategy:a,resizeObserverConfig:d,transition:c=Es}=e;const{items:f,containerId:h,activeIndex:m,disabled:v,disableTransforms:S,sortedRects:p,overIndex:b,useDragOverlay:y,strategy:g}=l.useContext(Rn),x=Os(r,v),w=f.indexOf(i),R=l.useMemo(()=>({sortable:{containerId:h,index:w,items:f},...s}),[h,s,w,f]),N=l.useMemo(()=>f.slice(f.indexOf(i)),[f,i]),{rect:C,node:D,isOver:T,setNodeRef:O}=as({id:i,data:R,disabled:x.droppable,resizeObserverConfig:{updateMeasurementsFor:N,...d}}),{active:A,activatorEvent:H,activeNodeRect:q,attributes:_,setNodeRef:Re,listeners:Ke,isDragging:$,over:Ue,setActivatorNodeRef:te,transform:Ne}=ss({id:i,data:R,attributes:{...Ts,...n},disabled:x.draggable}),Ve=Kn(O,Re),F=!!A,ne=F&&!S&&Ge(m)&&Ge(b),ge=!y&&$,Ee=ge&&ne?Ne:null,We=ne?Ee??(a??g)({rects:p,activeNodeRect:q,activeIndex:m,overIndex:b,index:w}):null,ie=Ge(m)&&Ge(b)?o({id:i,items:f,activeIndex:m,overIndex:b}):w,re=A==null?void 0:A.id,j=l.useRef({activeId:re,items:f,newIndex:ie,containerId:h}),je=f!==j.current.items,Q=t({active:A,containerId:h,isDragging:$,isSorting:F,id:i,index:w,items:f,newIndex:j.current.newIndex,previousItems:j.current.items,previousContainerId:j.current.containerId,transition:c,wasDragging:j.current.activeId!=null}),ve=As({disabled:!Q,index:w,node:D,rect:C});return l.useEffect(()=>{F&&j.current.newIndex!==ie&&(j.current.newIndex=ie),h!==j.current.containerId&&(j.current.containerId=h),f!==j.current.items&&(j.current.items=f)},[F,ie,h,f]),l.useEffect(()=>{if(re===j.current.activeId)return;if(re&&!j.current.activeId){j.current.activeId=re;return}const pe=setTimeout(()=>{j.current.activeId=re},50);return()=>clearTimeout(pe)},[re]),{active:A,activeIndex:m,attributes:_,data:R,rect:C,index:w,newIndex:ie,items:f,isOver:T,isSorting:F,isDragging:$,listeners:Ke,node:D,overIndex:b,over:Ue,setNodeRef:Ve,setActivatorNodeRef:te,setDroppableNodeRef:O,setDraggableNodeRef:Re,transform:ve??We,transition:se()};function se(){if(ve||je&&j.current.newIndex===w)return js;if(!(ge&&!it(H)||!c)&&(F||Q))return he.Transition.toString({...c,property:Nn})}}function Os(e,t){var n,r;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(n=e==null?void 0:e.draggable)!=null?n:t.draggable,droppable:(r=e==null?void 0:e.droppable)!=null?r:t.droppable}}E.Down,E.Right,E.Up,E.Left;function pt({task:e,onClick:t}){const{attributes:n,listeners:r,setNodeRef:s,transform:o,transition:i,isDragging:a}=Ms({id:e.id}),d={transform:he.Transform.toString(o),transition:i,opacity:a?.5:1};return u.jsxs("div",{ref:s,style:d,...n,...r,onClick:t,className:"p-3 rounded-lg bg-white/5 border border-white/10 hover:bg-white/10 cursor-pointer transition-colors",children:[u.jsxs("div",{className:"flex items-start justify-between gap-2 mb-2",children:[u.jsx("h4",{className:"text-sm font-medium flex-1",children:e.title}),u.jsx(Qt,{variant:e.status==="closed"?"success":"default",size:"sm",children:e.status})]}),e.note&&u.jsx("p",{className:"text-xs opacity-60 line-clamp-2",children:e.note})]})}function Is({isOpen:e,onClose:t,task:n,onSave:r,onDelete:s}){var y,g;const[o,i]=l.useState(!1),{register:a,handleSubmit:d,formState:{errors:c},setValue:f,watch:h}=Xn(Ln,{defaultValues:n||void 0}),m=h("status"),v=x=>{n&&(r({...n,...x}),t())},S=()=>{n&&i(!0)},p=()=>{n&&(s(n.id),i(!1),t())},b=()=>{i(!1)};return n?u.jsxs($n,{open:e,onClose:t,title:"Edit Task",children:[u.jsxs("form",{onSubmit:d(v),className:"space-y-4",children:[u.jsx(mt,{label:"Title",...a("title"),error:(y=c.title)==null?void 0:y.message}),u.jsx(bt,{label:"Notes",...a("note"),error:(g=c.note)==null?void 0:g.message,placeholder:"Add any notes or details...",rows:4}),u.jsxs("div",{children:[u.jsx("span",{id:"task-status-label",className:"text-sm opacity-80 mb-2 block",children:"Status"}),u.jsx(Yn,{options:[{value:"open",label:"Open"},{value:"closed",label:"Done"}],value:m||"open",onChange:x=>f("status",x),"aria-labelledby":"task-status-label"})]}),u.jsxs("div",{className:"flex gap-3 pt-4",children:[u.jsx(P,{type:"button",variant:"danger",onClick:S,children:"Delete"}),u.jsx("div",{className:"flex-1"}),u.jsx(P,{type:"button",variant:"ghost",onClick:t,children:"Cancel"}),u.jsx(P,{type:"submit",variant:"primary",children:"Save"})]})]}),u.jsx(en,{open:o,title:"Delete task?",description:u.jsx("p",{children:"This will permanently delete this task from the rehearsal."}),confirmLabel:"Delete task",confirmVariant:"danger",onConfirm:p,onCancel:b})]}):null}function ks({tasks:e,onUpdateTasks:t}){const[n,r]=l.useState(null),[s,o]=l.useState(null),[i,a]=l.useState(""),[d,c]=l.useState(null),f=sr(rr(Et,{activationConstraint:{distance:8}})),h=e.filter(g=>g.status==="open"),m=e.filter(g=>g.status==="closed"),v=g=>{const x=e.find(w=>w.id===g.active.id);x&&r(x)},S=g=>{const{active:x,over:w}=g;if(r(null),!w)return;const R=x.id,N=e.find(D=>D.id===R);if(!N)return;const C=w.id==="open"?"open":"closed";if(N.status!==C){const D=e.map(T=>T.id===R?{...T,status:C}:T);t(D)}},p=g=>{if(!i.trim())return;const x={id:Zt("task"),title:i,status:g,order:e.filter(w=>w.status===g).length};t([...e,x]),a(""),c(null)},b=g=>{const x=e.map(w=>w.id===g.id?g:w);t(x)},y=g=>{t(e.filter(x=>x.id!==g))};return u.jsxs(u.Fragment,{children:[u.jsxs(ts,{sensors:f,onDragStart:v,onDragEnd:S,children:[u.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("h3",{className:"text-lg font-semibold",children:"To Do"}),u.jsx(P,{size:"sm",variant:"ghost",onClick:()=>c("open"),children:"+ Add"})]}),u.jsx(_t,{items:h.map(g=>g.id),strategy:Jt,children:u.jsxs("div",{id:"open",className:"space-y-2 min-h-[200px] p-4 rounded-lg bg-white/5 border-2 border-dashed border-white/10",children:[h.map(g=>u.jsx(pt,{task:g,onClick:()=>o(g)},g.id)),d==="open"&&u.jsxs("div",{className:"p-3 rounded-lg bg-white/10",children:[u.jsx(mt,{placeholder:"Task title...",value:i,onChange:g=>a(g.target.value),onKeyDown:g=>{g.key==="Enter"&&p("open"),g.key==="Escape"&&c(null)},autoFocus:!0}),u.jsxs("div",{className:"flex gap-2 mt-2",children:[u.jsx(P,{size:"sm",onClick:()=>p("open"),children:"Add"}),u.jsx(P,{size:"sm",variant:"ghost",onClick:()=>c(null),children:"Cancel"})]})]})]})})]}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("h3",{className:"text-lg font-semibold",children:"Done"}),u.jsx(P,{size:"sm",variant:"ghost",onClick:()=>c("closed"),children:"+ Add"})]}),u.jsx(_t,{items:m.map(g=>g.id),strategy:Jt,children:u.jsxs("div",{id:"closed",className:"space-y-2 min-h-[200px] p-4 rounded-lg bg-white/5 border-2 border-dashed border-white/10",children:[m.map(g=>u.jsx(pt,{task:g,onClick:()=>o(g)},g.id)),d==="closed"&&u.jsxs("div",{className:"p-3 rounded-lg bg-white/10",children:[u.jsx(mt,{placeholder:"Task title...",value:i,onChange:g=>a(g.target.value),onKeyDown:g=>{g.key==="Enter"&&p("closed"),g.key==="Escape"&&c(null)},autoFocus:!0}),u.jsxs("div",{className:"flex gap-2 mt-2",children:[u.jsx(P,{size:"sm",onClick:()=>p("closed"),children:"Add"}),u.jsx(P,{size:"sm",variant:"ghost",onClick:()=>c(null),children:"Cancel"})]})]})]})})]})]}),u.jsx(ys,{children:n?u.jsx(pt,{task:n,onClick:()=>{}}):null})]}),u.jsx(Is,{isOpen:!!s,onClose:()=>o(null),task:s,onSave:b,onDelete:y})]})}function Ls({notes:e,onUpdateNotes:t}){const[n,r]=l.useState(""),[s,o]=l.useState(null),i=()=>{if(!n.trim())return;const c={id:Zt("note"),content:n,createdAt:Date.now(),updatedAt:Date.now()};t([...e,c]),r("")},a=(c,f)=>{t(e.map(h=>h.id===c?{...h,content:f,updatedAt:Date.now()}:h)),o(null)},d=c=>{window.confirm("Delete this note?")&&t(e.filter(f=>f.id!==c))};return u.jsxs("div",{className:"space-y-4",children:[u.jsx("h3",{className:"text-lg font-semibold",children:"Notes"}),u.jsx("div",{className:"space-y-3",children:e.map(c=>u.jsx("div",{className:"p-3 rounded-lg bg-white/5 border border-white/10",children:s===c.id?u.jsxs("div",{className:"space-y-2",children:[u.jsx(bt,{value:c.content,onChange:f=>t(e.map(h=>h.id===c.id?{...h,content:f.target.value}:h)),rows:3}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx(P,{size:"sm",onClick:()=>a(c.id,c.content),children:"Save"}),u.jsx(P,{size:"sm",variant:"ghost",onClick:()=>o(null),children:"Cancel"})]})]}):u.jsxs(u.Fragment,{children:[u.jsx("p",{className:"text-sm whitespace-pre-wrap mb-2",children:c.content}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("p",{className:"text-xs opacity-40",children:new Date(c.createdAt).toLocaleDateString()}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{onClick:()=>o(c.id),className:"text-xs opacity-60 hover:opacity-100",children:"Edit"}),u.jsx("button",{onClick:()=>d(c.id),className:"text-xs opacity-60 hover:opacity-100 text-red-400",children:"Delete"})]})]})]})},c.id))}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(bt,{placeholder:"Add a note...",value:n,onChange:c=>r(c.target.value),rows:3}),u.jsx(P,{onClick:i,disabled:!n.trim(),children:"Add Note"})]})]})}function Us(){const{id:e}=zn(),t=Pn(),n=Bn(e),{updateRehearsal:r,deleteRehearsal:s,duplicateRehearsal:o}=Fn(),[i,a]=l.useState(!1);if(!n)return u.jsxs("div",{className:"py-12 text-center",children:[u.jsx("p",{className:"text-lg opacity-60 mb-4",children:"Rehearsal not found"}),u.jsx(P,{onClick:()=>t("/rehearsals"),children:"Back to Rehearsals"})]});const d=n.tasks.filter(p=>p.status==="closed").length,c=n.tasks.length,f=c>0?Math.round(d/c*100):0,h=async p=>{await r({...n,tasks:p,updatedAt:Date.now()})},m=async p=>{await r({...n,notes:p,updatedAt:Date.now()})},v=async()=>{await s(n.id),a(!1),t("/rehearsals")},S=async()=>{await o(n.id),t("/rehearsals")};return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"glass rounded-xl p-6",children:[u.jsxs("div",{className:"flex items-start justify-between gap-4 mb-4",children:[u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[u.jsx("h1",{className:"text-3xl font-bold",children:n.eventName}),n.templateId&&u.jsx(Qt,{variant:"info",size:"sm",children:"From Template"})]}),u.jsxs("p",{className:"text-lg opacity-80",children:[Pt(n.date,"EEEE, MMMM d, yyyy")," at"," ",Pt(n.date,"h:mm a")]}),n.location&&u.jsx("p",{className:"text-sm opacity-60 mt-1",children:n.location})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx(P,{size:"sm",variant:"ghost",onClick:S,children:"Duplicate"}),u.jsx(P,{size:"sm",variant:"ghost",onClick:()=>t("/rehearsals"),children:"Back"}),u.jsx(P,{size:"sm",variant:"danger",onClick:()=>a(!0),children:"Delete"})]})]}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center justify-between text-sm mb-2",children:[u.jsx("span",{className:"opacity-60",children:"Overall Progress"}),u.jsxs("span",{className:"font-medium",children:[d,"/",c," tasks (",f,"%)"]})]}),u.jsx("div",{className:"h-3 bg-white/10 rounded-full overflow-hidden",children:u.jsx("div",{className:"h-full bg-gradient-to-r from-primary to-success transition-all duration-300",style:{width:`${f}%`}})})]})]}),u.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[u.jsx("div",{className:"lg:col-span-2",children:u.jsxs("div",{className:"glass rounded-xl p-6",children:[u.jsx("h2",{className:"text-xl font-semibold mb-6",children:"Tasks"}),u.jsx(ks,{tasks:n.tasks,onUpdateTasks:h})]})}),u.jsxs("div",{className:"space-y-6",children:[u.jsx("div",{className:"glass rounded-xl p-6",children:u.jsx(Ls,{notes:n.notes||[],onUpdateNotes:m})}),u.jsxs("div",{className:"glass rounded-xl p-6",children:[u.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Details"}),u.jsxs("div",{className:"space-y-2 text-sm",children:[u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"opacity-60",children:"Created"}),u.jsx("span",{children:new Date(n.createdAt).toLocaleDateString()})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"opacity-60",children:"Last updated"}),u.jsx("span",{children:new Date(n.updatedAt).toLocaleDateString()})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"opacity-60",children:"Total tasks"}),u.jsx("span",{children:c})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"opacity-60",children:"Completed"}),u.jsx("span",{children:d})]})]})]})]})]}),u.jsx(en,{open:i,title:"Delete rehearsal?",description:u.jsxs(u.Fragment,{children:[u.jsxs("p",{children:["This will permanently delete"," ",u.jsx("strong",{children:n.eventName})," ","and all associated tasks and notes."]}),u.jsx("p",{className:"mt-1 text-warning",children:"This action cannot be undone."})]}),confirmLabel:"Delete rehearsal",confirmVariant:"danger",onConfirm:v,onCancel:()=>a(!1)})]})}export{Us as default};
