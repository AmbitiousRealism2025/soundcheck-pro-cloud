import{r as ge,j as De,a as Ke,R as N}from"./index-DsEjXmEw.js";function br(e="id"){return`${e}-${Math.random().toString(36).slice(2,10)}${Date.now().toString(36)}`}function _r({options:e,value:r,onChange:t,className:i}){const[l,o]=ge.useState({left:0,width:0}),a=ge.useRef(null),f=ge.useRef(new Map);return ge.useEffect(()=>{const v=f.current.get(r);if(v&&a.current){const _=a.current.getBoundingClientRect(),b=v.getBoundingClientRect();o({left:b.left-_.left,width:b.width})}},[r,e]),De.jsxs("div",{ref:a,className:Ke("relative inline-flex p-1 bg-muted rounded-lg",i),role:"tablist",children:[De.jsx("div",{className:"absolute top-1 bottom-1 bg-primary rounded-md transition-all duration-200 ease-out",style:{left:`${l.left}px`,width:`${l.width}px`}}),e.map(v=>De.jsx("button",{ref:_=>{_?f.current.set(v.value,_):f.current.delete(v.value)},onClick:()=>t(v.value),className:Ke("relative z-10 px-4 py-1.5 text-sm font-medium rounded-md transition-colors duration-200",r===v.value?"text-primary-foreground":"text-foreground/70 hover:text-foreground"),role:"tab","aria-selected":r===v.value,children:v.label},v.value))]})}var ce=e=>e.type==="checkbox",re=e=>e instanceof Date,M=e=>e==null;const ct=e=>typeof e=="object";var P=e=>!M(e)&&!Array.isArray(e)&&ct(e)&&!re(e),Lt=e=>P(e)&&e.target?ce(e.target)?e.target.checked:e.target.value:e,Ut=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,pt=(e,r)=>e.has(Ut(r)),Mt=e=>{const r=e.constructor&&e.constructor.prototype;return P(r)&&r.hasOwnProperty("isPrototypeOf")},Ce=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function T(e){let r;const t=Array.isArray(e),i=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)r=new Date(e);else if(!(Ce&&(e instanceof Blob||i))&&(t||P(e)))if(r=t?[]:Object.create(Object.getPrototypeOf(e)),!t&&!Mt(e))r=e;else for(const l in e)e.hasOwnProperty(l)&&(r[l]=T(e[l]));else return e;return r}var Ve=e=>/^\w*$/.test(e),k=e=>e===void 0,Te=e=>Array.isArray(e)?e.filter(Boolean):[],Le=e=>Te(e.replace(/["|']|\]/g,"").split(/\.|\[/)),h=(e,r,t)=>{if(!r||!P(e))return t;const i=(Ve(r)?[r]:Le(r)).reduce((l,o)=>M(l)?l:l[o],e);return k(i)||i===e?k(e[r])?t:e[r]:i},Z=e=>typeof e=="boolean",E=(e,r,t)=>{let i=-1;const l=Ve(r)?[r]:Le(r),o=l.length,a=o-1;for(;++i<o;){const f=l[i];let v=t;if(i!==a){const _=e[f];v=P(_)||Array.isArray(_)?_:isNaN(+l[i+1])?{}:[]}if(f==="__proto__"||f==="constructor"||f==="prototype")return;e[f]=v,e=e[f]}};const Je={BLUR:"blur",FOCUS_OUT:"focusout"},z={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},J={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},Nt=N.createContext(null);Nt.displayName="HookFormContext";var jt=(e,r,t,i=!0)=>{const l={defaultValues:r._defaultValues};for(const o in e)Object.defineProperty(l,o,{get:()=>{const a=o;return r._proxyFormState[a]!==z.all&&(r._proxyFormState[a]=!i||z.all),e[a]}});return l};const It=typeof window<"u"?N.useLayoutEffect:N.useEffect;var j=e=>typeof e=="string",Bt=(e,r,t,i,l)=>j(e)?(i&&r.watch.add(e),h(t,e,l)):Array.isArray(e)?e.map(o=>(i&&r.watch.add(o),h(t,o))):(i&&(r.watchAll=!0),t),Oe=e=>M(e)||!ct(e);function ee(e,r,t=new WeakSet){if(Oe(e)||Oe(r))return e===r;if(re(e)&&re(r))return e.getTime()===r.getTime();const i=Object.keys(e),l=Object.keys(r);if(i.length!==l.length)return!1;if(t.has(e)||t.has(r))return!0;t.add(e),t.add(r);for(const o of i){const a=e[o];if(!l.includes(o))return!1;if(o!=="ref"){const f=r[o];if(re(a)&&re(f)||P(a)&&P(f)||Array.isArray(a)&&Array.isArray(f)?!ee(a,f,t):a!==f)return!1}}return!0}var Ue=(e,r,t,i,l)=>r?{...t[e],types:{...t[e]&&t[e].types?t[e].types:{},[i]:l||!0}}:{},le=e=>Array.isArray(e)?e:[e],Ye=()=>{let e=[];return{get observers(){return e},next:l=>{for(const o of e)o.next&&o.next(l)},subscribe:l=>(e.push(l),{unsubscribe:()=>{e=e.filter(o=>o!==l)}}),unsubscribe:()=>{e=[]}}};function dt(e,r){const t={};for(const i in e)if(e.hasOwnProperty(i)){const l=e[i],o=r[i];if(l&&P(l)&&o){const a=dt(l,o);P(a)&&(t[i]=a)}else e[i]&&(t[i]=o)}return t}var U=e=>P(e)&&!Object.keys(e).length,pe=e=>e.type==="file",$=e=>typeof e=="function",be=e=>{if(!Ce)return!1;const r=e?e.ownerDocument:0;return e instanceof(r&&r.defaultView?r.defaultView.HTMLElement:HTMLElement)},yt=e=>e.type==="select-multiple",Me=e=>e.type==="radio",zt=e=>Me(e)||ce(e),ke=e=>be(e)&&e.isConnected;function $t(e,r){const t=r.slice(0,-1).length;let i=0;for(;i<t;)e=k(e)?i++:e[r[i++]];return e}function qt(e){for(const r in e)if(e.hasOwnProperty(r)&&!k(e[r]))return!1;return!0}function O(e,r){const t=Array.isArray(r)?r:Ve(r)?[r]:Le(r),i=t.length===1?e:$t(e,t),l=t.length-1,o=t[l];return i&&delete i[o],l!==0&&(P(i)&&U(i)||Array.isArray(i)&&qt(i))&&O(e,t.slice(0,-1)),e}var Wt=e=>{for(const r in e)if($(e[r]))return!0;return!1};function ht(e){return Array.isArray(e)||P(e)&&!Wt(e)}function Pe(e,r={}){for(const t in e)ht(e[t])?(r[t]=Array.isArray(e[t])?[]:{},Pe(e[t],r[t])):k(e[t])||(r[t]=!0);return r}function ne(e,r,t){t||(t=Pe(r));for(const i in e)ht(e[i])?k(r)||Oe(t[i])?t[i]=Pe(e[i],Array.isArray(e[i])?[]:{}):ne(e[i],M(r)?{}:r[i],t[i]):t[i]=!ee(e[i],r[i]);return t}const Qe={value:!1,isValid:!1},Xe={value:!0,isValid:!0};var gt=e=>{if(Array.isArray(e)){if(e.length>1){const r=e.filter(t=>t&&t.checked&&!t.disabled).map(t=>t.value);return{value:r,isValid:!!r.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!k(e[0].attributes.value)?k(e[0].value)||e[0].value===""?Xe:{value:e[0].value,isValid:!0}:Xe:Qe}return Qe},vt=(e,{valueAsNumber:r,valueAsDate:t,setValueAs:i})=>k(e)?e:r?e===""?NaN:e&&+e:t&&j(e)?new Date(e):i?i(e):e;const Ge={isValid:!1,value:null};var bt=e=>Array.isArray(e)?e.reduce((r,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:r,Ge):Ge;function et(e){const r=e.ref;return pe(r)?r.files:Me(r)?bt(e.refs).value:yt(r)?[...r.selectedOptions].map(({value:t})=>t):ce(r)?gt(e.refs).value:vt(k(r.value)?e.ref.value:r.value,e)}var Ht=(e,r,t,i)=>{const l={};for(const o of e){const a=h(r,o);a&&E(l,o,a._f)}return{criteriaMode:t,names:[...e],fields:l,shouldUseNativeValidation:i}},_e=e=>e instanceof RegExp,ue=e=>k(e)?e:_e(e)?e.source:P(e)?_e(e.value)?e.value.source:e.value:e,tt=e=>({isOnSubmit:!e||e===z.onSubmit,isOnBlur:e===z.onBlur,isOnChange:e===z.onChange,isOnAll:e===z.all,isOnTouch:e===z.onTouched});const rt="AsyncFunction";var Zt=e=>!!e&&!!e.validate&&!!($(e.validate)&&e.validate.constructor.name===rt||P(e.validate)&&Object.values(e.validate).find(r=>r.constructor.name===rt)),Kt=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),st=(e,r,t)=>!t&&(r.watchAll||r.watch.has(e)||[...r.watch].some(i=>e.startsWith(i)&&/^\.\w+/.test(e.slice(i.length))));const fe=(e,r,t,i)=>{for(const l of t||Object.keys(e)){const o=h(e,l);if(o){const{_f:a,...f}=o;if(a){if(a.refs&&a.refs[0]&&r(a.refs[0],l)&&!i)return!0;if(a.ref&&r(a.ref,a.name)&&!i)return!0;if(fe(f,r))break}else if(P(f)&&fe(f,r))break}}};function it(e,r,t){const i=h(e,t);if(i||Ve(t))return{error:i,name:t};const l=t.split(".");for(;l.length;){const o=l.join("."),a=h(r,o),f=h(e,o);if(a&&!Array.isArray(a)&&t!==o)return{name:t};if(f&&f.type)return{name:o,error:f};if(f&&f.root&&f.root.type)return{name:`${o}.root`,error:f.root};l.pop()}return{name:t}}var Jt=(e,r,t,i)=>{t(e);const{name:l,...o}=e;return U(o)||Object.keys(o).length>=Object.keys(r).length||Object.keys(o).find(a=>r[a]===(!i||z.all))},Yt=(e,r,t)=>!e||!r||e===r||le(e).some(i=>i&&(t?i===r:i.startsWith(r)||r.startsWith(i))),Qt=(e,r,t,i,l)=>l.isOnAll?!1:!t&&l.isOnTouch?!(r||e):(t?i.isOnBlur:l.isOnBlur)?!e:(t?i.isOnChange:l.isOnChange)?e:!0,Xt=(e,r)=>!Te(h(e,r)).length&&O(e,r),Gt=(e,r,t)=>{const i=le(h(e,t));return E(i,"root",r[t]),E(e,t,i),e};function nt(e,r,t="validate"){if(j(e)||Array.isArray(e)&&e.every(j)||Z(e)&&!e)return{type:t,message:j(e)?e:"",ref:r}}var ie=e=>P(e)&&!_e(e)?e:{value:e,message:""},ot=async(e,r,t,i,l,o)=>{const{ref:a,refs:f,required:v,maxLength:_,minLength:b,min:S,max:V,pattern:oe,validate:Y,name:R,valueAsNumber:Q,mount:Fe}=e._f,w=h(t,R);if(!Fe||r.has(R))return{};const K=f?f[0]:a,q=F=>{l&&K.reportValidity&&(K.setCustomValidity(Z(F)?"":F||""),K.reportValidity())},C={},de=Me(a),X=ce(a),we=de||X,B=(Q||pe(a))&&k(a.value)&&k(w)||be(a)&&a.value===""||w===""||Array.isArray(w)&&!w.length,te=Ue.bind(null,R,i,C),W=(F,A,D,L=J.maxLength,p=J.minLength)=>{const H=F?A:D;C[R]={type:F?L:p,message:H,ref:a,...te(F?L:p,H)}};if(o?!Array.isArray(w)||!w.length:v&&(!we&&(B||M(w))||Z(w)&&!w||X&&!gt(f).isValid||de&&!bt(f).isValid)){const{value:F,message:A}=j(v)?{value:!!v,message:v}:ie(v);if(F&&(C[R]={type:J.required,message:A,ref:K,...te(J.required,A)},!i))return q(A),C}if(!B&&(!M(S)||!M(V))){let F,A;const D=ie(V),L=ie(S);if(!M(w)&&!isNaN(w)){const p=a.valueAsNumber||w&&+w;M(D.value)||(F=p>D.value),M(L.value)||(A=p<L.value)}else{const p=a.valueAsDate||new Date(w),H=ye=>new Date(new Date().toDateString()+" "+ye),ae=a.type=="time",se=a.type=="week";j(D.value)&&w&&(F=ae?H(w)>H(D.value):se?w>D.value:p>new Date(D.value)),j(L.value)&&w&&(A=ae?H(w)<H(L.value):se?w<L.value:p<new Date(L.value))}if((F||A)&&(W(!!F,D.message,L.message,J.max,J.min),!i))return q(C[R].message),C}if((_||b)&&!B&&(j(w)||o&&Array.isArray(w))){const F=ie(_),A=ie(b),D=!M(F.value)&&w.length>+F.value,L=!M(A.value)&&w.length<+A.value;if((D||L)&&(W(D,F.message,A.message),!i))return q(C[R].message),C}if(oe&&!B&&j(w)){const{value:F,message:A}=ie(oe);if(_e(F)&&!w.match(F)&&(C[R]={type:J.pattern,message:A,ref:a,...te(J.pattern,A)},!i))return q(A),C}if(Y){if($(Y)){const F=await Y(w,t),A=nt(F,K);if(A&&(C[R]={...A,...te(J.validate,A.message)},!i))return q(A.message),C}else if(P(Y)){let F={};for(const A in Y){if(!U(F)&&!i)break;const D=nt(await Y[A](w,t),K,A);D&&(F={...D,...te(A,D.message)},q(D.message),i&&(C[R]=F))}if(!U(F)&&(C[R]={ref:K,...F},!i))return C}}return q(!0),C};const er={mode:z.onSubmit,reValidateMode:z.onChange,shouldFocusError:!0};function tr(e={}){let r={...er,...e},t={submitCount:0,isDirty:!1,isReady:!1,isLoading:$(r.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:r.errors||{},disabled:r.disabled||!1},i={},l=P(r.defaultValues)||P(r.values)?T(r.defaultValues||r.values)||{}:{},o=r.shouldUnregister?{}:T(l),a={action:!1,mount:!1,watch:!1},f={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},v,_=0;const b={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let S={...b};const V={array:Ye(),state:Ye()},oe=r.criteriaMode===z.all,Y=s=>n=>{clearTimeout(_),_=setTimeout(s,n)},R=async s=>{if(!r.disabled&&(b.isValid||S.isValid||s)){const n=r.resolver?U((await X()).errors):await B(i,!0);n!==t.isValid&&V.state.next({isValid:n})}},Q=(s,n)=>{!r.disabled&&(b.isValidating||b.validatingFields||S.isValidating||S.validatingFields)&&((s||Array.from(f.mount)).forEach(u=>{u&&(n?E(t.validatingFields,u,n):O(t.validatingFields,u))}),V.state.next({validatingFields:t.validatingFields,isValidating:!U(t.validatingFields)}))},Fe=(s,n=[],u,y,d=!0,c=!0)=>{if(y&&u&&!r.disabled){if(a.action=!0,c&&Array.isArray(h(i,s))){const g=u(h(i,s),y.argA,y.argB);d&&E(i,s,g)}if(c&&Array.isArray(h(t.errors,s))){const g=u(h(t.errors,s),y.argA,y.argB);d&&E(t.errors,s,g),Xt(t.errors,s)}if((b.touchedFields||S.touchedFields)&&c&&Array.isArray(h(t.touchedFields,s))){const g=u(h(t.touchedFields,s),y.argA,y.argB);d&&E(t.touchedFields,s,g)}(b.dirtyFields||S.dirtyFields)&&(t.dirtyFields=ne(l,o)),V.state.next({name:s,isDirty:W(s,n),dirtyFields:t.dirtyFields,errors:t.errors,isValid:t.isValid})}else E(o,s,n)},w=(s,n)=>{E(t.errors,s,n),V.state.next({errors:t.errors})},K=s=>{t.errors=s,V.state.next({errors:t.errors,isValid:!1})},q=(s,n,u,y)=>{const d=h(i,s);if(d){const c=h(o,s,k(u)?h(l,s):u);k(c)||y&&y.defaultChecked||n?E(o,s,n?c:et(d._f)):D(s,c),a.mount&&R()}},C=(s,n,u,y,d)=>{let c=!1,g=!1;const m={name:s};if(!r.disabled){if(!u||y){(b.isDirty||S.isDirty)&&(g=t.isDirty,t.isDirty=m.isDirty=W(),c=g!==m.isDirty);const x=ee(h(l,s),n);g=!!h(t.dirtyFields,s),x?O(t.dirtyFields,s):E(t.dirtyFields,s,!0),m.dirtyFields=t.dirtyFields,c=c||(b.dirtyFields||S.dirtyFields)&&g!==!x}if(u){const x=h(t.touchedFields,s);x||(E(t.touchedFields,s,u),m.touchedFields=t.touchedFields,c=c||(b.touchedFields||S.touchedFields)&&x!==u)}c&&d&&V.state.next(m)}return c?m:{}},de=(s,n,u,y)=>{const d=h(t.errors,s),c=(b.isValid||S.isValid)&&Z(n)&&t.isValid!==n;if(r.delayError&&u?(v=Y(()=>w(s,u)),v(r.delayError)):(clearTimeout(_),v=null,u?E(t.errors,s,u):O(t.errors,s)),(u?!ee(d,u):d)||!U(y)||c){const g={...y,...c&&Z(n)?{isValid:n}:{},errors:t.errors,name:s};t={...t,...g},V.state.next(g)}},X=async s=>{Q(s,!0);const n=await r.resolver(o,r.context,Ht(s||f.mount,i,r.criteriaMode,r.shouldUseNativeValidation));return Q(s),n},we=async s=>{const{errors:n}=await X(s);if(s)for(const u of s){const y=h(n,u);y?E(t.errors,u,y):O(t.errors,u)}else t.errors=n;return n},B=async(s,n,u={valid:!0})=>{for(const y in s){const d=s[y];if(d){const{_f:c,...g}=d;if(c){const m=f.array.has(c.name),x=d._f&&Zt(d._f);x&&b.validatingFields&&Q([c.name],!0);const I=await ot(d,f.disabled,o,oe,r.shouldUseNativeValidation&&!n,m);if(x&&b.validatingFields&&Q([c.name]),I[c.name]&&(u.valid=!1,n))break;!n&&(h(I,c.name)?m?Gt(t.errors,I,c.name):E(t.errors,c.name,I[c.name]):O(t.errors,c.name))}!U(g)&&await B(g,n,u)}}return u.valid},te=()=>{for(const s of f.unMount){const n=h(i,s);n&&(n._f.refs?n._f.refs.every(u=>!ke(u)):!ke(n._f.ref))&&me(s)}f.unMount=new Set},W=(s,n)=>!r.disabled&&(s&&n&&E(o,s,n),!ee(ye(),l)),F=(s,n,u)=>Bt(s,f,{...a.mount?o:k(n)?l:j(s)?{[s]:n}:n},u,n),A=s=>Te(h(a.mount?o:l,s,r.shouldUnregister?h(l,s,[]):[])),D=(s,n,u={})=>{const y=h(i,s);let d=n;if(y){const c=y._f;c&&(!c.disabled&&E(o,s,vt(n,c)),d=be(c.ref)&&M(n)?"":n,yt(c.ref)?[...c.ref.options].forEach(g=>g.selected=d.includes(g.value)):c.refs?ce(c.ref)?c.refs.forEach(g=>{(!g.defaultChecked||!g.disabled)&&(Array.isArray(d)?g.checked=!!d.find(m=>m===g.value):g.checked=d===g.value||!!d)}):c.refs.forEach(g=>g.checked=g.value===d):pe(c.ref)?c.ref.value="":(c.ref.value=d,c.ref.type||V.state.next({name:s,values:T(o)})))}(u.shouldDirty||u.shouldTouch)&&C(s,d,u.shouldTouch,u.shouldDirty,!0),u.shouldValidate&&se(s)},L=(s,n,u)=>{for(const y in n){if(!n.hasOwnProperty(y))return;const d=n[y],c=s+"."+y,g=h(i,c);(f.array.has(s)||P(d)||g&&!g._f)&&!re(d)?L(c,d,u):D(c,d,u)}},p=(s,n,u={})=>{const y=h(i,s),d=f.array.has(s),c=T(n);E(o,s,c),d?(V.array.next({name:s,values:T(o)}),(b.isDirty||b.dirtyFields||S.isDirty||S.dirtyFields)&&u.shouldDirty&&V.state.next({name:s,dirtyFields:ne(l,o),isDirty:W(s,c)})):y&&!y._f&&!M(c)?L(s,c,u):D(s,c,u),st(s,f)&&V.state.next({...t,name:s}),V.state.next({name:a.mount?s:void 0,values:T(o)})},H=async s=>{a.mount=!0;const n=s.target;let u=n.name,y=!0;const d=h(i,u),c=x=>{y=Number.isNaN(x)||re(x)&&isNaN(x.getTime())||ee(x,h(o,u,x))},g=tt(r.mode),m=tt(r.reValidateMode);if(d){let x,I;const he=n.type?et(d._f):Lt(s),G=s.type===Je.BLUR||s.type===Je.FOCUS_OUT,Rt=!Kt(d._f)&&!r.resolver&&!h(t.errors,u)&&!d._f.deps||Qt(G,h(t.touchedFields,u),t.isSubmitted,m,g),xe=st(u,f,G);E(o,u,he),G?(!n||!n.readOnly)&&(d._f.onBlur&&d._f.onBlur(s),v&&v(0)):d._f.onChange&&d._f.onChange(s);const Se=C(u,he,G),Ct=!U(Se)||xe;if(!G&&V.state.next({name:u,type:s.type,values:T(o)}),Rt)return(b.isValid||S.isValid)&&(r.mode==="onBlur"?G&&R():G||R()),Ct&&V.state.next({name:u,...xe?{}:Se});if(!G&&xe&&V.state.next({...t}),r.resolver){const{errors:He}=await X([u]);if(c(he),y){const Tt=it(t.errors,i,u),Ze=it(He,i,Tt.name||u);x=Ze.error,u=Ze.name,I=U(He)}}else Q([u],!0),x=(await ot(d,f.disabled,o,oe,r.shouldUseNativeValidation))[u],Q([u]),c(he),y&&(x?I=!1:(b.isValid||S.isValid)&&(I=await B(i,!0)));y&&(d._f.deps&&(!Array.isArray(d._f.deps)||d._f.deps.length>0)&&se(d._f.deps),de(u,I,x,Se))}},ae=(s,n)=>{if(h(t.errors,n)&&s.focus)return s.focus(),1},se=async(s,n={})=>{let u,y;const d=le(s);if(r.resolver){const c=await we(k(s)?s:d);u=U(c),y=s?!d.some(g=>h(c,g)):u}else s?(y=(await Promise.all(d.map(async c=>{const g=h(i,c);return await B(g&&g._f?{[c]:g}:g)}))).every(Boolean),!(!y&&!t.isValid)&&R()):y=u=await B(i);return V.state.next({...!j(s)||(b.isValid||S.isValid)&&u!==t.isValid?{}:{name:s},...r.resolver||!s?{isValid:u}:{},errors:t.errors}),n.shouldFocus&&!y&&fe(i,ae,s?d:f.mount),y},ye=(s,n)=>{let u={...a.mount?o:l};return n&&(u=dt(n.dirtyFields?t.dirtyFields:t.touchedFields,u)),k(s)?u:j(s)?h(u,s):s.map(y=>h(u,y))},Ne=(s,n)=>({invalid:!!h((n||t).errors,s),isDirty:!!h((n||t).dirtyFields,s),error:h((n||t).errors,s),isValidating:!!h(t.validatingFields,s),isTouched:!!h((n||t).touchedFields,s)}),Et=s=>{s&&le(s).forEach(n=>O(t.errors,n)),V.state.next({errors:s?t.errors:{}})},je=(s,n,u)=>{const y=(h(i,s,{_f:{}})._f||{}).ref,d=h(t.errors,s)||{},{ref:c,message:g,type:m,...x}=d;E(t.errors,s,{...x,...n,ref:y}),V.state.next({name:s,errors:t.errors,isValid:!1}),u&&u.shouldFocus&&y&&y.focus&&y.focus()},xt=(s,n)=>$(s)?V.state.subscribe({next:u=>"values"in u&&s(F(void 0,n),u)}):F(s,n,!0),Ie=s=>V.state.subscribe({next:n=>{Yt(s.name,n.name,s.exact)&&Jt(n,s.formState||b,Pt,s.reRenderRoot)&&s.callback({values:{...o},...t,...n,defaultValues:l})}}).unsubscribe,St=s=>(a.mount=!0,S={...S,...s.formState},Ie({...s,formState:S})),me=(s,n={})=>{for(const u of s?le(s):f.mount)f.mount.delete(u),f.array.delete(u),n.keepValue||(O(i,u),O(o,u)),!n.keepError&&O(t.errors,u),!n.keepDirty&&O(t.dirtyFields,u),!n.keepTouched&&O(t.touchedFields,u),!n.keepIsValidating&&O(t.validatingFields,u),!r.shouldUnregister&&!n.keepDefaultValue&&O(l,u);V.state.next({values:T(o)}),V.state.next({...t,...n.keepDirty?{isDirty:W()}:{}}),!n.keepIsValid&&R()},Be=({disabled:s,name:n})=>{(Z(s)&&a.mount||s||f.disabled.has(n))&&(s?f.disabled.add(n):f.disabled.delete(n))},Ae=(s,n={})=>{let u=h(i,s);const y=Z(n.disabled)||Z(r.disabled);return E(i,s,{...u||{},_f:{...u&&u._f?u._f:{ref:{name:s}},name:s,mount:!0,...n}}),f.mount.add(s),u?Be({disabled:Z(n.disabled)?n.disabled:r.disabled,name:s}):q(s,!0,n.value),{...y?{disabled:n.disabled||r.disabled}:{},...r.progressive?{required:!!n.required,min:ue(n.min),max:ue(n.max),minLength:ue(n.minLength),maxLength:ue(n.maxLength),pattern:ue(n.pattern)}:{},name:s,onChange:H,onBlur:H,ref:d=>{if(d){Ae(s,n),u=h(i,s);const c=k(d.value)&&d.querySelectorAll&&d.querySelectorAll("input,select,textarea")[0]||d,g=zt(c),m=u._f.refs||[];if(g?m.find(x=>x===c):c===u._f.ref)return;E(i,s,{_f:{...u._f,...g?{refs:[...m.filter(ke),c,...Array.isArray(h(l,s))?[{}]:[]],ref:{type:c.type,name:s}}:{ref:c}}}),q(s,!1,void 0,c)}else u=h(i,s,{}),u._f&&(u._f.mount=!1),(r.shouldUnregister||n.shouldUnregister)&&!(pt(f.array,s)&&a.action)&&f.unMount.add(s)}}},Ee=()=>r.shouldFocusError&&fe(i,ae,f.mount),Dt=s=>{Z(s)&&(V.state.next({disabled:s}),fe(i,(n,u)=>{const y=h(i,u);y&&(n.disabled=y._f.disabled||s,Array.isArray(y._f.refs)&&y._f.refs.forEach(d=>{d.disabled=y._f.disabled||s}))},0,!1))},ze=(s,n)=>async u=>{let y;u&&(u.preventDefault&&u.preventDefault(),u.persist&&u.persist());let d=T(o);if(V.state.next({isSubmitting:!0}),r.resolver){const{errors:c,values:g}=await X();t.errors=c,d=T(g)}else await B(i);if(f.disabled.size)for(const c of f.disabled)O(d,c);if(O(t.errors,"root"),U(t.errors)){V.state.next({errors:{}});try{await s(d,u)}catch(c){y=c}}else n&&await n({...t.errors},u),Ee(),setTimeout(Ee);if(V.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:U(t.errors)&&!y,submitCount:t.submitCount+1,errors:t.errors}),y)throw y},kt=(s,n={})=>{h(i,s)&&(k(n.defaultValue)?p(s,T(h(l,s))):(p(s,n.defaultValue),E(l,s,T(n.defaultValue))),n.keepTouched||O(t.touchedFields,s),n.keepDirty||(O(t.dirtyFields,s),t.isDirty=n.defaultValue?W(s,T(h(l,s))):W()),n.keepError||(O(t.errors,s),b.isValid&&R()),V.state.next({...t}))},$e=(s,n={})=>{const u=s?T(s):l,y=T(u),d=U(s),c=d?l:y;if(n.keepDefaultValues||(l=u),!n.keepValues){if(n.keepDirtyValues){const g=new Set([...f.mount,...Object.keys(ne(l,o))]);for(const m of Array.from(g))h(t.dirtyFields,m)?E(c,m,h(o,m)):p(m,h(c,m))}else{if(Ce&&k(s))for(const g of f.mount){const m=h(i,g);if(m&&m._f){const x=Array.isArray(m._f.refs)?m._f.refs[0]:m._f.ref;if(be(x)){const I=x.closest("form");if(I){I.reset();break}}}}if(n.keepFieldsRef)for(const g of f.mount)p(g,h(c,g));else i={}}o=r.shouldUnregister?n.keepDefaultValues?T(l):{}:T(c),V.array.next({values:{...c}}),V.state.next({values:{...c}})}f={mount:n.keepDirtyValues?f.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},a.mount=!b.isValid||!!n.keepIsValid||!!n.keepDirtyValues||!r.shouldUnregister&&!U(c),a.watch=!!r.shouldUnregister,V.state.next({submitCount:n.keepSubmitCount?t.submitCount:0,isDirty:d?!1:n.keepDirty?t.isDirty:!!(n.keepDefaultValues&&!ee(s,l)),isSubmitted:n.keepIsSubmitted?t.isSubmitted:!1,dirtyFields:d?{}:n.keepDirtyValues?n.keepDefaultValues&&o?ne(l,o):t.dirtyFields:n.keepDefaultValues&&s?ne(l,s):n.keepDirty?t.dirtyFields:{},touchedFields:n.keepTouched?t.touchedFields:{},errors:n.keepErrors?t.errors:{},isSubmitSuccessful:n.keepIsSubmitSuccessful?t.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:l})},qe=(s,n)=>$e($(s)?s(o):s,n),Ot=(s,n={})=>{const u=h(i,s),y=u&&u._f;if(y){const d=y.refs?y.refs[0]:y.ref;d.focus&&(d.focus(),n.shouldSelect&&$(d.select)&&d.select())}},Pt=s=>{t={...t,...s}},We={control:{register:Ae,unregister:me,getFieldState:Ne,handleSubmit:ze,setError:je,_subscribe:Ie,_runSchema:X,_focusError:Ee,_getWatch:F,_getDirty:W,_setValid:R,_setFieldArray:Fe,_setDisabledField:Be,_setErrors:K,_getFieldArray:A,_reset:$e,_resetDefaultValues:()=>$(r.defaultValues)&&r.defaultValues().then(s=>{qe(s,r.resetOptions),V.state.next({isLoading:!1})}),_removeUnmounted:te,_disableForm:Dt,_subjects:V,_proxyFormState:b,get _fields(){return i},get _formValues(){return o},get _state(){return a},set _state(s){a=s},get _defaultValues(){return l},get _names(){return f},set _names(s){f=s},get _formState(){return t},get _options(){return r},set _options(s){r={...r,...s}}},subscribe:St,trigger:se,register:Ae,handleSubmit:ze,watch:xt,setValue:p,getValues:ye,reset:qe,resetField:kt,clearErrors:Et,unregister:me,setError:je,setFocus:Ot,getFieldState:Ne};return{...We,formControl:We}}function rr(e={}){const r=N.useRef(void 0),t=N.useRef(void 0),[i,l]=N.useState({isDirty:!1,isValidating:!1,isLoading:$(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:$(e.defaultValues)?void 0:e.defaultValues});if(!r.current)if(e.formControl)r.current={...e.formControl,formState:i},e.defaultValues&&!$(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:a,...f}=tr(e);r.current={...f,formState:i}}const o=r.current.control;return o._options=e,It(()=>{const a=o._subscribe({formState:o._proxyFormState,callback:()=>l({...o._formState}),reRenderRoot:!0});return l(f=>({...f,isReady:!0})),o._formState.isReady=!0,a},[o]),N.useEffect(()=>o._disableForm(e.disabled),[o,e.disabled]),N.useEffect(()=>{e.mode&&(o._options.mode=e.mode),e.reValidateMode&&(o._options.reValidateMode=e.reValidateMode)},[o,e.mode,e.reValidateMode]),N.useEffect(()=>{e.errors&&(o._setErrors(e.errors),o._focusError())},[o,e.errors]),N.useEffect(()=>{e.shouldUnregister&&o._subjects.state.next({values:o._getWatch()})},[o,e.shouldUnregister]),N.useEffect(()=>{if(o._proxyFormState.isDirty){const a=o._getDirty();a!==i.isDirty&&o._subjects.state.next({isDirty:a})}},[o,i.isDirty]),N.useEffect(()=>{e.values&&!ee(e.values,t.current)?(o._reset(e.values,{keepFieldsRef:!0,...o._options.resetOptions}),t.current=e.values,l(a=>({...a}))):o._resetDefaultValues()},[o,e.values]),N.useEffect(()=>{o._state.mount||(o._setValid(),o._state.mount=!0),o._state.watch&&(o._state.watch=!1,o._subjects.state.next({...o._formState})),o._removeUnmounted()}),r.current.formState=jt(i,o),r.current}const at=(e,r,t)=>{if(e&&"reportValidity"in e){const i=h(t,r);e.setCustomValidity(i&&i.message||""),e.reportValidity()}},Re=(e,r)=>{for(const t in r.fields){const i=r.fields[t];i&&i.ref&&"reportValidity"in i.ref?at(i.ref,t,e):i&&i.refs&&i.refs.forEach(l=>at(l,t,e))}},ut=(e,r)=>{r.shouldUseNativeValidation&&Re(e,r);const t={};for(const i in e){const l=h(r.fields,i),o=Object.assign(e[i]||{},{ref:l&&l.ref});if(sr(r.names||Object.keys(e),i)){const a=Object.assign({},h(t,i));E(a,"root",o),E(t,i,a)}else E(t,i,o)}return t},sr=(e,r)=>{const t=lt(r);return e.some(i=>lt(i).match(`^${t}\\.\\d+`))};function lt(e){return e.replace(/\]|\[/g,"")}function _t(e,r,t){function i(f,v){var _;Object.defineProperty(f,"_zod",{value:f._zod??{},enumerable:!1}),(_=f._zod).traits??(_.traits=new Set),f._zod.traits.add(e),r(f,v);for(const b in a.prototype)b in f||Object.defineProperty(f,b,{value:a.prototype[b].bind(f)});f._zod.constr=a,f._zod.def=v}const l=(t==null?void 0:t.Parent)??Object;class o extends l{}Object.defineProperty(o,"name",{value:e});function a(f){var v;const _=t!=null&&t.Parent?new o:this;i(_,f),(v=_._zod).deferred??(v.deferred=[]);for(const b of _._zod.deferred)b();return _}return Object.defineProperty(a,"init",{value:i}),Object.defineProperty(a,Symbol.hasInstance,{value:f=>{var v,_;return t!=null&&t.Parent&&f instanceof t.Parent?!0:(_=(v=f==null?void 0:f._zod)==null?void 0:v.traits)==null?void 0:_.has(e)}}),Object.defineProperty(a,"name",{value:e}),a}class ir extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}const nr={};function Vt(e){return nr}function or(e,r){return typeof r=="bigint"?r.toString():r}const Ft=Error.captureStackTrace?Error.captureStackTrace:(...e)=>{};function ve(e){return typeof e=="string"?e:e==null?void 0:e.message}function wt(e,r,t){var l,o,a,f,v,_;const i={...e,path:e.path??[]};if(!e.message){const b=ve((a=(o=(l=e.inst)==null?void 0:l._zod.def)==null?void 0:o.error)==null?void 0:a.call(o,e))??ve((f=r==null?void 0:r.error)==null?void 0:f.call(r,e))??ve((v=t.customError)==null?void 0:v.call(t,e))??ve((_=t.localeError)==null?void 0:_.call(t,e))??"Invalid input";i.message=b}return delete i.inst,delete i.continue,r!=null&&r.reportInput||delete i.input,i}const mt=(e,r)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:r,enumerable:!1}),Object.defineProperty(e,"message",{get(){return JSON.stringify(r,or,2)},enumerable:!0}),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},ar=_t("$ZodError",mt),At=_t("$ZodError",mt,{Parent:Error}),ur=e=>(r,t,i,l)=>{const o=i?Object.assign(i,{async:!1}):{async:!1},a=r._zod.run({value:t,issues:[]},o);if(a instanceof Promise)throw new ir;if(a.issues.length){const f=new((l==null?void 0:l.Err)??e)(a.issues.map(v=>wt(v,o,Vt())));throw Ft(f,l==null?void 0:l.callee),f}return a.value},lr=ur(At),fr=e=>async(r,t,i,l)=>{const o=i?Object.assign(i,{async:!0}):{async:!0};let a=r._zod.run({value:t,issues:[]},o);if(a instanceof Promise&&(a=await a),a.issues.length){const f=new((l==null?void 0:l.Err)??e)(a.issues.map(v=>wt(v,o,Vt())));throw Ft(f,l==null?void 0:l.callee),f}return a.value},cr=fr(At);function ft(e,r){try{var t=e()}catch(i){return r(i)}return t&&t.then?t.then(void 0,r):t}function dr(e,r){for(var t={};e.length;){var i=e[0],l=i.code,o=i.message,a=i.path.join(".");if(!t[a])if("unionErrors"in i){var f=i.unionErrors[0].errors[0];t[a]={message:f.message,type:f.code}}else t[a]={message:o,type:l};if("unionErrors"in i&&i.unionErrors.forEach(function(b){return b.errors.forEach(function(S){return e.push(S)})}),r){var v=t[a].types,_=v&&v[i.code];t[a]=Ue(a,r,t,l,_?[].concat(_,i.message):i.message)}e.shift()}return t}function yr(e,r){for(var t={};e.length;){var i=e[0],l=i.code,o=i.message,a=i.path.join(".");if(!t[a])if(i.code==="invalid_union"&&i.errors.length>0){var f=i.errors[0][0];t[a]={message:f.message,type:f.code}}else t[a]={message:o,type:l};if(i.code==="invalid_union"&&i.errors.forEach(function(b){return b.forEach(function(S){return e.push(S)})}),r){var v=t[a].types,_=v&&v[i.code];t[a]=Ue(a,r,t,l,_?[].concat(_,i.message):i.message)}e.shift()}return t}function hr(e,r,t){if(t===void 0&&(t={}),function(i){return"_def"in i&&typeof i._def=="object"&&"typeName"in i._def}(e))return function(i,l,o){try{return Promise.resolve(ft(function(){return Promise.resolve(e[t.mode==="sync"?"parse":"parseAsync"](i,r)).then(function(a){return o.shouldUseNativeValidation&&Re({},o),{errors:{},values:t.raw?Object.assign({},i):a}})},function(a){if(function(f){return Array.isArray(f==null?void 0:f.issues)}(a))return{values:{},errors:ut(dr(a.errors,!o.shouldUseNativeValidation&&o.criteriaMode==="all"),o)};throw a}))}catch(a){return Promise.reject(a)}};if(function(i){return"_zod"in i&&typeof i._zod=="object"}(e))return function(i,l,o){try{return Promise.resolve(ft(function(){return Promise.resolve((t.mode==="sync"?lr:cr)(e,i,r)).then(function(a){return o.shouldUseNativeValidation&&Re({},o),{errors:{},values:t.raw?Object.assign({},i):a}})},function(a){if(function(f){return f instanceof ar}(a))return{values:{},errors:ut(yr(a.issues,!o.shouldUseNativeValidation&&o.criteriaMode==="all"),o)};throw a}))}catch(a){return Promise.reject(a)}};throw new Error("Invalid input: not a Zod schema")}function Vr(e,r){return rr({...r,resolver:hr(e)})}export{_r as S,br as a,Vr as u};
