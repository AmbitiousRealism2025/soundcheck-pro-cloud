import{r as l,R as M,b as Ie,j as u,e as kn,u as Ln}from"./index-B-6H1DbC.js";import{B as Qt,e as P,g as zn,a as Pn,f as Pt}from"./Button-BYcCY_pn.js";import{u as Bn,M as Fn,I as mt,S as $n,b as Zt}from"./types-DfFo2rcE.js";import{T as bt}from"./Textarea-DCv1eOk_.js";import{u as Xn}from"./taskSchema-puAMTSB3.js";function Yn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return l.useMemo(()=>r=>{t.forEach(s=>s(r))},t)}const st=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function De(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function Dt(e){return"nodeType"in e}function B(e){var t,n;return e?De(e)?e:Dt(e)&&(t=(n=e.ownerDocument)==null?void 0:n.defaultView)!=null?t:window:window}function Ct(e){const{Document:t}=B(e);return e instanceof t}function Fe(e){return De(e)?!1:e instanceof B(e).HTMLElement}function en(e){return e instanceof B(e).SVGElement}function Ce(e){return e?De(e)?e.document:Dt(e)?Ct(e)?e:Fe(e)||en(e)?e.ownerDocument:document:document:document}const G=st?l.useLayoutEffect:l.useEffect;function ot(e){const t=l.useRef(e);return G(()=>{t.current=e}),l.useCallback(function(){for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return t.current==null?void 0:t.current(...r)},[])}function Kn(){const e=l.useRef(null),t=l.useCallback((r,s)=>{e.current=setInterval(r,s)},[]),n=l.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,n]}function Pe(e,t){t===void 0&&(t=[e]);const n=l.useRef(e);return G(()=>{n.current!==e&&(n.current=e)},t),n}function $e(e,t){const n=l.useRef();return l.useMemo(()=>{const r=e(n.current);return n.current=r,r},[...t])}function Qe(e){const t=ot(e),n=l.useRef(null),r=l.useCallback(s=>{s!==n.current&&(t==null||t(s,n.current)),n.current=s},[]);return[n,r]}function Ze(e){const t=l.useRef();return l.useEffect(()=>{t.current=e},[e]),t.current}let ft={};function Xe(e,t){return l.useMemo(()=>{if(t)return t;const n=ft[e]==null?0:ft[e]+1;return ft[e]=n,e+"-"+n},[e,t])}function tn(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];return r.reduce((o,i)=>{const a=Object.entries(i);for(const[c,d]of a){const h=o[c];h!=null&&(o[c]=h+e*d)}return o},{...t})}}const we=tn(1),et=tn(-1);function Un(e){return"clientX"in e&&"clientY"in e}function it(e){if(!e)return!1;const{KeyboardEvent:t}=B(e.target);return t&&e instanceof t}function Wn(e){if(!e)return!1;const{TouchEvent:t}=B(e.target);return t&&e instanceof t}function tt(e){if(Wn(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return Un(e)?{x:e.clientX,y:e.clientY}:null}const he=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[he.Translate.toString(e),he.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:r}=e;return t+" "+n+"ms "+r}}}),Bt="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function Vn(e){return e.matches(Bt)?e:e.querySelector(Bt)}const Hn={display:"none"};function qn(e){let{id:t,value:n}=e;return M.createElement("div",{id:t,style:Hn},n)}function Gn(e){let{id:t,announcement:n,ariaLiveType:r="assertive"}=e;const s={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return M.createElement("div",{id:t,style:s,role:"status","aria-live":r,"aria-atomic":!0},n)}function Jn(){const[e,t]=l.useState("");return{announce:l.useCallback(r=>{r!=null&&t(r)},[]),announcement:e}}const nn=l.createContext(null);function _n(e){const t=l.useContext(nn);l.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function Qn(){const[e]=l.useState(()=>new Set),t=l.useCallback(r=>(e.add(r),()=>e.delete(r)),[e]);return[l.useCallback(r=>{let{type:s,event:o}=r;e.forEach(i=>{var a;return(a=i[s])==null?void 0:a.call(i,o)})},[e]),t]}const Zn={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},er={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function tr(e){let{announcements:t=er,container:n,hiddenTextDescribedById:r,screenReaderInstructions:s=Zn}=e;const{announce:o,announcement:i}=Jn(),a=Xe("DndLiveRegion"),[c,d]=l.useState(!1);if(l.useEffect(()=>{d(!0)},[]),_n(l.useMemo(()=>({onDragStart(f){let{active:p}=f;o(t.onDragStart({active:p}))},onDragMove(f){let{active:p,over:g}=f;t.onDragMove&&o(t.onDragMove({active:p,over:g}))},onDragOver(f){let{active:p,over:g}=f;o(t.onDragOver({active:p,over:g}))},onDragEnd(f){let{active:p,over:g}=f;o(t.onDragEnd({active:p,over:g}))},onDragCancel(f){let{active:p,over:g}=f;o(t.onDragCancel({active:p,over:g}))}}),[o,t])),!c)return null;const h=M.createElement(M.Fragment,null,M.createElement(qn,{id:r,value:s.draggable}),M.createElement(Gn,{id:a,announcement:i}));return n?Ie.createPortal(h,n):h}var I;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(I||(I={}));function nt(){}function nr(e,t){return l.useMemo(()=>({sensor:e,options:t??{}}),[e,t])}function rr(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return l.useMemo(()=>[...t].filter(r=>r!=null),[...t])}const J=Object.freeze({x:0,y:0});function sr(e,t){const n=tt(e);if(!n)return"0 0";const r={x:(n.x-t.left)/t.width*100,y:(n.y-t.top)/t.height*100};return r.x+"% "+r.y+"%"}function or(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return r-n}function ir(e,t){if(!e||e.length===0)return null;const[n]=e;return n[t]}function ar(e,t){const n=Math.max(t.top,e.top),r=Math.max(t.left,e.left),s=Math.min(t.left+t.width,e.left+e.width),o=Math.min(t.top+t.height,e.top+e.height),i=s-r,a=o-n;if(r<s&&n<o){const c=t.width*t.height,d=e.width*e.height,h=i*a,f=h/(c+d-h);return Number(f.toFixed(4))}return 0}const lr=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const s=[];for(const o of r){const{id:i}=o,a=n.get(i);if(a){const c=ar(a,t);c>0&&s.push({id:i,data:{droppableContainer:o,value:c}})}}return s.sort(or)};function cr(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}function rn(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:J}function dr(e){return function(n){for(var r=arguments.length,s=new Array(r>1?r-1:0),o=1;o<r;o++)s[o-1]=arguments[o];return s.reduce((i,a)=>({...i,top:i.top+e*a.y,bottom:i.bottom+e*a.y,left:i.left+e*a.x,right:i.right+e*a.x}),{...n})}}const ur=dr(1);function sn(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function fr(e,t,n){const r=sn(t);if(!r)return e;const{scaleX:s,scaleY:o,x:i,y:a}=r,c=e.left-i-(1-s)*parseFloat(n),d=e.top-a-(1-o)*parseFloat(n.slice(n.indexOf(" ")+1)),h=s?e.width/s:e.width,f=o?e.height/o:e.height;return{width:h,height:f,top:d,right:c+h,bottom:d+f,left:c}}const hr={ignoreTransform:!1};function Se(e,t){t===void 0&&(t=hr);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:d,transformOrigin:h}=B(e).getComputedStyle(e);d&&(n=fr(n,d,h))}const{top:r,left:s,width:o,height:i,bottom:a,right:c}=n;return{top:r,left:s,width:o,height:i,bottom:a,right:c}}function Ft(e){return Se(e,{ignoreTransform:!0})}function gr(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}function vr(e,t){return t===void 0&&(t=B(e).getComputedStyle(e)),t.position==="fixed"}function pr(e,t){t===void 0&&(t=B(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(s=>{const o=t[s];return typeof o=="string"?n.test(o):!1})}function St(e,t){const n=[];function r(s){if(t!=null&&n.length>=t||!s)return n;if(Ct(s)&&s.scrollingElement!=null&&!n.includes(s.scrollingElement))return n.push(s.scrollingElement),n;if(!Fe(s)||en(s)||n.includes(s))return n;const o=B(e).getComputedStyle(s);return s!==e&&pr(s,o)&&n.push(s),vr(s,o)?n:r(s.parentNode)}return e?r(e):n}function on(e){const[t]=St(e,1);return t??null}function ht(e){return!st||!e?null:De(e)?e:Dt(e)?Ct(e)||e===Ce(e).scrollingElement?window:Fe(e)?e:null:null}function an(e){return De(e)?e.scrollX:e.scrollLeft}function ln(e){return De(e)?e.scrollY:e.scrollTop}function xt(e){return{x:an(e),y:ln(e)}}var k;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(k||(k={}));function cn(e){return!st||!e?!1:e===document.scrollingElement}function dn(e){const t={x:0,y:0},n=cn(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},r={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height},s=e.scrollTop<=t.y,o=e.scrollLeft<=t.x,i=e.scrollTop>=r.y,a=e.scrollLeft>=r.x;return{isTop:s,isLeft:o,isBottom:i,isRight:a,maxScroll:r,minScroll:t}}const mr={x:.2,y:.2};function br(e,t,n,r,s){let{top:o,left:i,right:a,bottom:c}=n;r===void 0&&(r=10),s===void 0&&(s=mr);const{isTop:d,isBottom:h,isLeft:f,isRight:p}=dn(e),g={x:0,y:0},S={x:0,y:0},m={height:t.height*s.y,width:t.width*s.x};return!d&&o<=t.top+m.height?(g.y=k.Backward,S.y=r*Math.abs((t.top+m.height-o)/m.height)):!h&&c>=t.bottom-m.height&&(g.y=k.Forward,S.y=r*Math.abs((t.bottom-m.height-c)/m.height)),!p&&a>=t.right-m.width?(g.x=k.Forward,S.x=r*Math.abs((t.right-m.width-a)/m.width)):!f&&i<=t.left+m.width&&(g.x=k.Backward,S.x=r*Math.abs((t.left+m.width-i)/m.width)),{direction:g,speed:S}}function xr(e){if(e===document.scrollingElement){const{innerWidth:o,innerHeight:i}=window;return{top:0,left:0,right:o,bottom:i,width:o,height:i}}const{top:t,left:n,right:r,bottom:s}=e.getBoundingClientRect();return{top:t,left:n,right:r,bottom:s,width:e.clientWidth,height:e.clientHeight}}function un(e){return e.reduce((t,n)=>we(t,xt(n)),J)}function yr(e){return e.reduce((t,n)=>t+an(n),0)}function wr(e){return e.reduce((t,n)=>t+ln(n),0)}function fn(e,t){if(t===void 0&&(t=Se),!e)return;const{top:n,left:r,bottom:s,right:o}=t(e);on(e)&&(s<=0||o<=0||n>=window.innerHeight||r>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const Dr=[["x",["left","right"],yr],["y",["top","bottom"],wr]];class Rt{constructor(t,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=St(n),s=un(r);this.rect={...t},this.width=t.width,this.height=t.height;for(const[o,i,a]of Dr)for(const c of i)Object.defineProperty(this,c,{get:()=>{const d=a(r),h=s[o]-d;return this.rect[c]+h},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class ke{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...n)})},this.target=t}add(t,n,r){var s;(s=this.target)==null||s.addEventListener(t,n,r),this.listeners.push([t,n,r])}}function Cr(e){const{EventTarget:t}=B(e);return e instanceof t?e:Ce(e)}function gt(e,t){const n=Math.abs(e.x),r=Math.abs(e.y);return typeof t=="number"?Math.sqrt(n**2+r**2)>t:"x"in t&&"y"in t?n>t.x&&r>t.y:"x"in t?n>t.x:"y"in t?r>t.y:!1}var V;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(V||(V={}));function $t(e){e.preventDefault()}function Sr(e){e.stopPropagation()}var E;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(E||(E={}));const hn={start:[E.Space,E.Enter],cancel:[E.Esc],end:[E.Space,E.Enter,E.Tab]},Rr=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case E.Right:return{...n,x:n.x+25};case E.Left:return{...n,x:n.x-25};case E.Down:return{...n,y:n.y+25};case E.Up:return{...n,y:n.y-25}}};class gn{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:n}}=t;this.props=t,this.listeners=new ke(Ce(n)),this.windowListeners=new ke(B(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(V.Resize,this.handleCancel),this.windowListeners.add(V.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(V.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:n}=this.props,r=t.node.current;r&&fn(r),n(J)}handleKeyDown(t){if(it(t)){const{active:n,context:r,options:s}=this.props,{keyboardCodes:o=hn,coordinateGetter:i=Rr,scrollBehavior:a="smooth"}=s,{code:c}=t;if(o.end.includes(c)){this.handleEnd(t);return}if(o.cancel.includes(c)){this.handleCancel(t);return}const{collisionRect:d}=r.current,h=d?{x:d.left,y:d.top}:J;this.referenceCoordinates||(this.referenceCoordinates=h);const f=i(t,{active:n,context:r.current,currentCoordinates:h});if(f){const p=et(f,h),g={x:0,y:0},{scrollableAncestors:S}=r.current;for(const m of S){const b=t.code,{isTop:D,isRight:v,isLeft:x,isBottom:y,maxScroll:R,minScroll:N}=dn(m),C=xr(m),w={x:Math.min(b===E.Right?C.right-C.width/2:C.right,Math.max(b===E.Right?C.left:C.left+C.width/2,f.x)),y:Math.min(b===E.Down?C.bottom-C.height/2:C.bottom,Math.max(b===E.Down?C.top:C.top+C.height/2,f.y))},T=b===E.Right&&!v||b===E.Left&&!x,O=b===E.Down&&!y||b===E.Up&&!D;if(T&&w.x!==f.x){const A=m.scrollLeft+p.x,H=b===E.Right&&A<=R.x||b===E.Left&&A>=N.x;if(H&&!p.y){m.scrollTo({left:A,behavior:a});return}H?g.x=m.scrollLeft-A:g.x=b===E.Right?m.scrollLeft-R.x:m.scrollLeft-N.x,g.x&&m.scrollBy({left:-g.x,behavior:a});break}else if(O&&w.y!==f.y){const A=m.scrollTop+p.y,H=b===E.Down&&A<=R.y||b===E.Up&&A>=N.y;if(H&&!p.x){m.scrollTo({top:A,behavior:a});return}H?g.y=m.scrollTop-A:g.y=b===E.Down?m.scrollTop-R.y:m.scrollTop-N.y,g.y&&m.scrollBy({top:-g.y,behavior:a});break}}this.handleMove(t,we(et(f,this.referenceCoordinates),g))}}}handleMove(t,n){const{onMove:r}=this.props;t.preventDefault(),r(n)}handleEnd(t){const{onEnd:n}=this.props;t.preventDefault(),this.detach(),n()}handleCancel(t){const{onCancel:n}=this.props;t.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}gn.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:r=hn,onActivation:s}=t,{active:o}=n;const{code:i}=e.nativeEvent;if(r.start.includes(i)){const a=o.activatorNode.current;return a&&e.target!==a?!1:(e.preventDefault(),s==null||s({event:e.nativeEvent}),!0)}return!1}}];function Xt(e){return!!(e&&"distance"in e)}function Yt(e){return!!(e&&"delay"in e)}class Nt{constructor(t,n,r){var s;r===void 0&&(r=Cr(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=n;const{event:o}=t,{target:i}=o;this.props=t,this.events=n,this.document=Ce(i),this.documentListeners=new ke(this.document),this.listeners=new ke(r),this.windowListeners=new ke(B(i)),this.initialCoordinates=(s=tt(o))!=null?s:J,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:n,bypassActivationConstraint:r}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(V.Resize,this.handleCancel),this.windowListeners.add(V.DragStart,$t),this.windowListeners.add(V.VisibilityChange,this.handleCancel),this.windowListeners.add(V.ContextMenu,$t),this.documentListeners.add(V.Keydown,this.handleKeydown),n){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(Yt(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(Xt(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,n){const{active:r,onPending:s}=this.props;s(r,t,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:t}=this,{onStart:n}=this.props;t&&(this.activated=!0,this.documentListeners.add(V.Click,Sr,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(V.SelectionChange,this.removeTextSelection),n(t))}handleMove(t){var n;const{activated:r,initialCoordinates:s,props:o}=this,{onMove:i,options:{activationConstraint:a}}=o;if(!s)return;const c=(n=tt(t))!=null?n:J,d=et(s,c);if(!r&&a){if(Xt(a)){if(a.tolerance!=null&&gt(d,a.tolerance))return this.handleCancel();if(gt(d,a.distance))return this.handleStart()}if(Yt(a)&&gt(d,a.tolerance))return this.handleCancel();this.handlePending(a,d);return}t.cancelable&&t.preventDefault(),i(c)}handleEnd(){const{onAbort:t,onEnd:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleCancel(){const{onAbort:t,onCancel:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleKeydown(t){t.code===E.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const Nr={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class Et extends Nt{constructor(t){const{event:n}=t,r=Ce(n.target);super(t,Nr,r)}}Et.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return!n.isPrimary||n.button!==0?!1:(r==null||r({event:n}),!0)}}];const Er={move:{name:"mousemove"},end:{name:"mouseup"}};var yt;(function(e){e[e.RightClick=2]="RightClick"})(yt||(yt={}));class jr extends Nt{constructor(t){super(t,Er,Ce(t.event.target))}}jr.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return n.button===yt.RightClick?!1:(r==null||r({event:n}),!0)}}];const vt={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class Tr extends Nt{constructor(t){super(t,vt)}static setup(){return window.addEventListener(vt.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(vt.move.name,t)};function t(){}}}Tr.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;const{touches:s}=n;return s.length>1?!1:(r==null||r({event:n}),!0)}}];var Le;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(Le||(Le={}));var rt;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(rt||(rt={}));function Ar(e){let{acceleration:t,activator:n=Le.Pointer,canScroll:r,draggingRect:s,enabled:o,interval:i=5,order:a=rt.TreeOrder,pointerCoordinates:c,scrollableAncestors:d,scrollableAncestorRects:h,delta:f,threshold:p}=e;const g=Or({delta:f,disabled:!o}),[S,m]=Kn(),b=l.useRef({x:0,y:0}),D=l.useRef({x:0,y:0}),v=l.useMemo(()=>{switch(n){case Le.Pointer:return c?{top:c.y,bottom:c.y,left:c.x,right:c.x}:null;case Le.DraggableRect:return s}},[n,s,c]),x=l.useRef(null),y=l.useCallback(()=>{const N=x.current;if(!N)return;const C=b.current.x*D.current.x,w=b.current.y*D.current.y;N.scrollBy(C,w)},[]),R=l.useMemo(()=>a===rt.TreeOrder?[...d].reverse():d,[a,d]);l.useEffect(()=>{if(!o||!d.length||!v){m();return}for(const N of R){if((r==null?void 0:r(N))===!1)continue;const C=d.indexOf(N),w=h[C];if(!w)continue;const{direction:T,speed:O}=br(N,w,v,t,p);for(const A of["x","y"])g[A][T[A]]||(O[A]=0,T[A]=0);if(O.x>0||O.y>0){m(),x.current=N,S(y,i),b.current=O,D.current=T;return}}b.current={x:0,y:0},D.current={x:0,y:0},m()},[t,y,r,m,o,i,JSON.stringify(v),JSON.stringify(g),S,d,R,h,JSON.stringify(p)])}const Mr={x:{[k.Backward]:!1,[k.Forward]:!1},y:{[k.Backward]:!1,[k.Forward]:!1}};function Or(e){let{delta:t,disabled:n}=e;const r=Ze(t);return $e(s=>{if(n||!r||!s)return Mr;const o={x:Math.sign(t.x-r.x),y:Math.sign(t.y-r.y)};return{x:{[k.Backward]:s.x[k.Backward]||o.x===-1,[k.Forward]:s.x[k.Forward]||o.x===1},y:{[k.Backward]:s.y[k.Backward]||o.y===-1,[k.Forward]:s.y[k.Forward]||o.y===1}}},[n,t,r])}function Ir(e,t){const n=t!=null?e.get(t):void 0,r=n?n.node.current:null;return $e(s=>{var o;return t==null?null:(o=r??s)!=null?o:null},[r,t])}function kr(e,t){return l.useMemo(()=>e.reduce((n,r)=>{const{sensor:s}=r,o=s.activators.map(i=>({eventName:i.eventName,handler:t(i.handler,r)}));return[...n,...o]},[]),[e,t])}var Be;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(Be||(Be={}));var wt;(function(e){e.Optimized="optimized"})(wt||(wt={}));const Kt=new Map;function Lr(e,t){let{dragging:n,dependencies:r,config:s}=t;const[o,i]=l.useState(null),{frequency:a,measure:c,strategy:d}=s,h=l.useRef(e),f=b(),p=Pe(f),g=l.useCallback(function(D){D===void 0&&(D=[]),!p.current&&i(v=>v===null?D:v.concat(D.filter(x=>!v.includes(x))))},[p]),S=l.useRef(null),m=$e(D=>{if(f&&!n)return Kt;if(!D||D===Kt||h.current!==e||o!=null){const v=new Map;for(let x of e){if(!x)continue;if(o&&o.length>0&&!o.includes(x.id)&&x.rect.current){v.set(x.id,x.rect.current);continue}const y=x.node.current,R=y?new Rt(c(y),y):null;x.rect.current=R,R&&v.set(x.id,R)}return v}return D},[e,o,n,f,c]);return l.useEffect(()=>{h.current=e},[e]),l.useEffect(()=>{f||g()},[n,f]),l.useEffect(()=>{o&&o.length>0&&i(null)},[JSON.stringify(o)]),l.useEffect(()=>{f||typeof a!="number"||S.current!==null||(S.current=setTimeout(()=>{g(),S.current=null},a))},[a,f,g,...r]),{droppableRects:m,measureDroppableContainers:g,measuringScheduled:o!=null};function b(){switch(d){case Be.Always:return!1;case Be.BeforeDragging:return n;default:return!n}}}function jt(e,t){return $e(n=>e?n||(typeof t=="function"?t(e):e):null,[t,e])}function zr(e,t){return jt(e,t)}function Pr(e){let{callback:t,disabled:n}=e;const r=ot(t),s=l.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:o}=window;return new o(r)},[r,n]);return l.useEffect(()=>()=>s==null?void 0:s.disconnect(),[s]),s}function at(e){let{callback:t,disabled:n}=e;const r=ot(t),s=l.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:o}=window;return new o(r)},[n]);return l.useEffect(()=>()=>s==null?void 0:s.disconnect(),[s]),s}function Br(e){return new Rt(Se(e),e)}function Ut(e,t,n){t===void 0&&(t=Br);const[r,s]=l.useState(null);function o(){s(c=>{if(!e)return null;if(e.isConnected===!1){var d;return(d=c??n)!=null?d:null}const h=t(e);return JSON.stringify(c)===JSON.stringify(h)?c:h})}const i=Pr({callback(c){if(e)for(const d of c){const{type:h,target:f}=d;if(h==="childList"&&f instanceof HTMLElement&&f.contains(e)){o();break}}}}),a=at({callback:o});return G(()=>{o(),e?(a==null||a.observe(e),i==null||i.observe(document.body,{childList:!0,subtree:!0})):(a==null||a.disconnect(),i==null||i.disconnect())},[e]),r}function Fr(e){const t=jt(e);return rn(e,t)}const Wt=[];function $r(e){const t=l.useRef(e),n=$e(r=>e?r&&r!==Wt&&e&&t.current&&e.parentNode===t.current.parentNode?r:St(e):Wt,[e]);return l.useEffect(()=>{t.current=e},[e]),n}function Xr(e){const[t,n]=l.useState(null),r=l.useRef(e),s=l.useCallback(o=>{const i=ht(o.target);i&&n(a=>a?(a.set(i,xt(i)),new Map(a)):null)},[]);return l.useEffect(()=>{const o=r.current;if(e!==o){i(o);const a=e.map(c=>{const d=ht(c);return d?(d.addEventListener("scroll",s,{passive:!0}),[d,xt(d)]):null}).filter(c=>c!=null);n(a.length?new Map(a):null),r.current=e}return()=>{i(e),i(o)};function i(a){a.forEach(c=>{const d=ht(c);d==null||d.removeEventListener("scroll",s)})}},[s,e]),l.useMemo(()=>e.length?t?Array.from(t.values()).reduce((o,i)=>we(o,i),J):un(e):J,[e,t])}function Vt(e,t){t===void 0&&(t=[]);const n=l.useRef(null);return l.useEffect(()=>{n.current=null},t),l.useEffect(()=>{const r=e!==J;r&&!n.current&&(n.current=e),!r&&n.current&&(n.current=null)},[e]),n.current?et(e,n.current):J}function Yr(e){l.useEffect(()=>{if(!st)return;const t=e.map(n=>{let{sensor:r}=n;return r.setup==null?void 0:r.setup()});return()=>{for(const n of t)n==null||n()}},e.map(t=>{let{sensor:n}=t;return n}))}function Kr(e,t){return l.useMemo(()=>e.reduce((n,r)=>{let{eventName:s,handler:o}=r;return n[s]=i=>{o(i,t)},n},{}),[e,t])}function vn(e){return l.useMemo(()=>e?gr(e):null,[e])}const Ht=[];function Ur(e,t){t===void 0&&(t=Se);const[n]=e,r=vn(n?B(n):null),[s,o]=l.useState(Ht);function i(){o(()=>e.length?e.map(c=>cn(c)?r:new Rt(t(c),c)):Ht)}const a=at({callback:i});return G(()=>{a==null||a.disconnect(),i(),e.forEach(c=>a==null?void 0:a.observe(c))},[e]),s}function pn(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return Fe(t)?t:e}function Wr(e){let{measure:t}=e;const[n,r]=l.useState(null),s=l.useCallback(d=>{for(const{target:h}of d)if(Fe(h)){r(f=>{const p=t(h);return f?{...f,width:p.width,height:p.height}:p});break}},[t]),o=at({callback:s}),i=l.useCallback(d=>{const h=pn(d);o==null||o.disconnect(),h&&(o==null||o.observe(h)),r(h?t(h):null)},[t,o]),[a,c]=Qe(i);return l.useMemo(()=>({nodeRef:a,rect:n,setRef:c}),[n,a,c])}const Vr=[{sensor:Et,options:{}},{sensor:gn,options:{}}],Hr={current:{}},_e={draggable:{measure:Ft},droppable:{measure:Ft,strategy:Be.WhileDragging,frequency:wt.Optimized},dragOverlay:{measure:Se}};class ze extends Map{get(t){var n;return t!=null&&(n=super.get(t))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:n}=t;return!n})}getNodeFor(t){var n,r;return(n=(r=this.get(t))==null?void 0:r.node.current)!=null?n:void 0}}const qr={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new ze,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:nt},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:_e,measureDroppableContainers:nt,windowRect:null,measuringScheduled:!1},mn={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:nt,draggableNodes:new Map,over:null,measureDroppableContainers:nt},Ye=l.createContext(mn),bn=l.createContext(qr);function Gr(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new ze}}}function Jr(e,t){switch(t.type){case I.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case I.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case I.DragEnd:case I.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case I.RegisterDroppable:{const{element:n}=t,{id:r}=n,s=new ze(e.droppable.containers);return s.set(r,n),{...e,droppable:{...e.droppable,containers:s}}}case I.SetDroppableDisabled:{const{id:n,key:r,disabled:s}=t,o=e.droppable.containers.get(n);if(!o||r!==o.key)return e;const i=new ze(e.droppable.containers);return i.set(n,{...o,disabled:s}),{...e,droppable:{...e.droppable,containers:i}}}case I.UnregisterDroppable:{const{id:n,key:r}=t,s=e.droppable.containers.get(n);if(!s||r!==s.key)return e;const o=new ze(e.droppable.containers);return o.delete(n),{...e,droppable:{...e.droppable,containers:o}}}default:return e}}function _r(e){let{disabled:t}=e;const{active:n,activatorEvent:r,draggableNodes:s}=l.useContext(Ye),o=Ze(r),i=Ze(n==null?void 0:n.id);return l.useEffect(()=>{if(!t&&!r&&o&&i!=null){if(!it(o)||document.activeElement===o.target)return;const a=s.get(i);if(!a)return;const{activatorNode:c,node:d}=a;if(!c.current&&!d.current)return;requestAnimationFrame(()=>{for(const h of[c.current,d.current]){if(!h)continue;const f=Vn(h);if(f){f.focus();break}}})}},[r,t,s,i,o]),null}function xn(e,t){let{transform:n,...r}=t;return e!=null&&e.length?e.reduce((s,o)=>o({transform:s,...r}),n):n}function Qr(e){return l.useMemo(()=>({draggable:{..._e.draggable,...e==null?void 0:e.draggable},droppable:{..._e.droppable,...e==null?void 0:e.droppable},dragOverlay:{..._e.dragOverlay,...e==null?void 0:e.dragOverlay}}),[e==null?void 0:e.draggable,e==null?void 0:e.droppable,e==null?void 0:e.dragOverlay])}function Zr(e){let{activeNode:t,measure:n,initialRect:r,config:s=!0}=e;const o=l.useRef(!1),{x:i,y:a}=typeof s=="boolean"?{x:s,y:s}:s;G(()=>{if(!i&&!a||!t){o.current=!1;return}if(o.current||!r)return;const d=t==null?void 0:t.node.current;if(!d||d.isConnected===!1)return;const h=n(d),f=rn(h,r);if(i||(f.x=0),a||(f.y=0),o.current=!0,Math.abs(f.x)>0||Math.abs(f.y)>0){const p=on(d);p&&p.scrollBy({top:f.y,left:f.x})}},[t,i,a,r,n])}const lt=l.createContext({...J,scaleX:1,scaleY:1});var fe;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(fe||(fe={}));const es=l.memo(function(t){var n,r,s,o;let{id:i,accessibility:a,autoScroll:c=!0,children:d,sensors:h=Vr,collisionDetection:f=lr,measuring:p,modifiers:g,...S}=t;const m=l.useReducer(Jr,void 0,Gr),[b,D]=m,[v,x]=Qn(),[y,R]=l.useState(fe.Uninitialized),N=y===fe.Initialized,{draggable:{active:C,nodes:w,translate:T},droppable:{containers:O}}=b,A=C!=null?w.get(C):null,H=l.useRef({initial:null,translated:null}),q=l.useMemo(()=>{var z;return C!=null?{id:C,data:(z=A==null?void 0:A.data)!=null?z:Hr,rect:H}:null},[C,A]),_=l.useRef(null),[Re,Ke]=l.useState(null),[$,Ue]=l.useState(null),te=Pe(S,Object.values(S)),Ne=Xe("DndDescribedBy",i),We=l.useMemo(()=>O.getEnabled(),[O]),F=Qr(p),{droppableRects:ne,measureDroppableContainers:ge,measuringScheduled:Ee}=Lr(We,{dragging:N,dependencies:[T.x,T.y],config:F.droppable}),U=Ir(w,C),Ve=l.useMemo(()=>$?tt($):null,[$]),ie=In(),re=zr(U,F.draggable.measure);Zr({activeNode:C!=null?w.get(C):null,config:ie.layoutShiftCompensation,initialRect:re,measure:F.draggable.measure});const j=Ut(U,F.draggable.measure,re),je=Ut(U?U.parentElement:null),Q=l.useRef({activatorEvent:null,active:null,activeNode:U,collisionRect:null,collisions:null,droppableRects:ne,draggableNodes:w,draggingNode:null,draggingNodeRect:null,droppableContainers:O,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),ve=O.getNodeFor((n=Q.current.over)==null?void 0:n.id),se=Wr({measure:F.dragOverlay.measure}),pe=(r=se.nodeRef.current)!=null?r:U,me=N?(s=se.rect)!=null?s:j:null,Tt=!!(se.nodeRef.current&&se.rect),At=Fr(Tt?null:j),ct=vn(pe?B(pe):null),ae=$r(N?ve??U:null),He=Ur(ae),qe=xn(g,{transform:{x:T.x-At.x,y:T.y-At.y,scaleX:1,scaleY:1},activatorEvent:$,active:q,activeNodeRect:j,containerNodeRect:je,draggingNodeRect:me,over:Q.current.over,overlayNodeRect:se.rect,scrollableAncestors:ae,scrollableAncestorRects:He,windowRect:ct}),Mt=Ve?we(Ve,T):null,Ot=Xr(ae),Nn=Vt(Ot),En=Vt(Ot,[j]),be=we(qe,Nn),xe=me?ur(me,qe):null,Te=q&&xe?f({active:q,collisionRect:xe,droppableRects:ne,droppableContainers:We,pointerCoordinates:Mt}):null,It=ir(Te,"id"),[le,kt]=l.useState(null),jn=Tt?qe:we(qe,En),Tn=cr(jn,(o=le==null?void 0:le.rect)!=null?o:null,j),dt=l.useRef(null),Lt=l.useCallback((z,X)=>{let{sensor:Y,options:ce}=X;if(_.current==null)return;const W=w.get(_.current);if(!W)return;const K=z.nativeEvent,Z=new Y({active:_.current,activeNode:W,event:K,options:ce,context:Q,onAbort(L){if(!w.get(L))return;const{onDragAbort:ee}=te.current,oe={id:L};ee==null||ee(oe),v({type:"onDragAbort",event:oe})},onPending(L,de,ee,oe){if(!w.get(L))return;const{onDragPending:Me}=te.current,ue={id:L,constraint:de,initialCoordinates:ee,offset:oe};Me==null||Me(ue),v({type:"onDragPending",event:ue})},onStart(L){const de=_.current;if(de==null)return;const ee=w.get(de);if(!ee)return;const{onDragStart:oe}=te.current,Ae={activatorEvent:K,active:{id:de,data:ee.data,rect:H}};Ie.unstable_batchedUpdates(()=>{oe==null||oe(Ae),R(fe.Initializing),D({type:I.DragStart,initialCoordinates:L,active:de}),v({type:"onDragStart",event:Ae}),Ke(dt.current),Ue(K)})},onMove(L){D({type:I.DragMove,coordinates:L})},onEnd:ye(I.DragEnd),onCancel:ye(I.DragCancel)});dt.current=Z;function ye(L){return async function(){const{active:ee,collisions:oe,over:Ae,scrollAdjustedTranslate:Me}=Q.current;let ue=null;if(ee&&Me){const{cancelDrop:Oe}=te.current;ue={activatorEvent:K,active:ee,collisions:oe,delta:Me,over:Ae},L===I.DragEnd&&typeof Oe=="function"&&await Promise.resolve(Oe(ue))&&(L=I.DragCancel)}_.current=null,Ie.unstable_batchedUpdates(()=>{D({type:L}),R(fe.Uninitialized),kt(null),Ke(null),Ue(null),dt.current=null;const Oe=L===I.DragEnd?"onDragEnd":"onDragCancel";if(ue){const ut=te.current[Oe];ut==null||ut(ue),v({type:Oe,event:ue})}})}}},[w]),An=l.useCallback((z,X)=>(Y,ce)=>{const W=Y.nativeEvent,K=w.get(ce);if(_.current!==null||!K||W.dndKit||W.defaultPrevented)return;const Z={active:K};z(Y,X.options,Z)===!0&&(W.dndKit={capturedBy:X.sensor},_.current=ce,Lt(Y,X))},[w,Lt]),zt=kr(h,An);Yr(h),G(()=>{j&&y===fe.Initializing&&R(fe.Initialized)},[j,y]),l.useEffect(()=>{const{onDragMove:z}=te.current,{active:X,activatorEvent:Y,collisions:ce,over:W}=Q.current;if(!X||!Y)return;const K={active:X,activatorEvent:Y,collisions:ce,delta:{x:be.x,y:be.y},over:W};Ie.unstable_batchedUpdates(()=>{z==null||z(K),v({type:"onDragMove",event:K})})},[be.x,be.y]),l.useEffect(()=>{const{active:z,activatorEvent:X,collisions:Y,droppableContainers:ce,scrollAdjustedTranslate:W}=Q.current;if(!z||_.current==null||!X||!W)return;const{onDragOver:K}=te.current,Z=ce.get(It),ye=Z&&Z.rect.current?{id:Z.id,rect:Z.rect.current,data:Z.data,disabled:Z.disabled}:null,L={active:z,activatorEvent:X,collisions:Y,delta:{x:W.x,y:W.y},over:ye};Ie.unstable_batchedUpdates(()=>{kt(ye),K==null||K(L),v({type:"onDragOver",event:L})})},[It]),G(()=>{Q.current={activatorEvent:$,active:q,activeNode:U,collisionRect:xe,collisions:Te,droppableRects:ne,draggableNodes:w,draggingNode:pe,draggingNodeRect:me,droppableContainers:O,over:le,scrollableAncestors:ae,scrollAdjustedTranslate:be},H.current={initial:me,translated:xe}},[q,U,Te,xe,w,pe,me,ne,O,le,ae,be]),Ar({...ie,delta:T,draggingRect:xe,pointerCoordinates:Mt,scrollableAncestors:ae,scrollableAncestorRects:He});const Mn=l.useMemo(()=>({active:q,activeNode:U,activeNodeRect:j,activatorEvent:$,collisions:Te,containerNodeRect:je,dragOverlay:se,draggableNodes:w,droppableContainers:O,droppableRects:ne,over:le,measureDroppableContainers:ge,scrollableAncestors:ae,scrollableAncestorRects:He,measuringConfiguration:F,measuringScheduled:Ee,windowRect:ct}),[q,U,j,$,Te,je,se,w,O,ne,le,ge,ae,He,F,Ee,ct]),On=l.useMemo(()=>({activatorEvent:$,activators:zt,active:q,activeNodeRect:j,ariaDescribedById:{draggable:Ne},dispatch:D,draggableNodes:w,over:le,measureDroppableContainers:ge}),[$,zt,q,j,D,Ne,w,le,ge]);return M.createElement(nn.Provider,{value:x},M.createElement(Ye.Provider,{value:On},M.createElement(bn.Provider,{value:Mn},M.createElement(lt.Provider,{value:Tn},d)),M.createElement(_r,{disabled:(a==null?void 0:a.restoreFocus)===!1})),M.createElement(tr,{...a,hiddenTextDescribedById:Ne}));function In(){const z=(Re==null?void 0:Re.autoScrollEnabled)===!1,X=typeof c=="object"?c.enabled===!1:c===!1,Y=N&&!z&&!X;return typeof c=="object"?{...c,enabled:Y}:{enabled:Y}}}),ts=l.createContext(null),qt="button",ns="Draggable";function rs(e){let{id:t,data:n,disabled:r=!1,attributes:s}=e;const o=Xe(ns),{activators:i,activatorEvent:a,active:c,activeNodeRect:d,ariaDescribedById:h,draggableNodes:f,over:p}=l.useContext(Ye),{role:g=qt,roleDescription:S="draggable",tabIndex:m=0}=s??{},b=(c==null?void 0:c.id)===t,D=l.useContext(b?lt:ts),[v,x]=Qe(),[y,R]=Qe(),N=Kr(i,t),C=Pe(n);G(()=>(f.set(t,{id:t,key:o,node:v,activatorNode:y,data:C}),()=>{const T=f.get(t);T&&T.key===o&&f.delete(t)}),[f,t]);const w=l.useMemo(()=>({role:g,tabIndex:m,"aria-disabled":r,"aria-pressed":b&&g===qt?!0:void 0,"aria-roledescription":S,"aria-describedby":h.draggable}),[r,g,m,b,S,h.draggable]);return{active:c,activatorEvent:a,activeNodeRect:d,attributes:w,isDragging:b,listeners:r?void 0:N,node:v,over:p,setNodeRef:x,setActivatorNodeRef:R,transform:D}}function yn(){return l.useContext(bn)}const ss="Droppable",os={timeout:25};function is(e){let{data:t,disabled:n=!1,id:r,resizeObserverConfig:s}=e;const o=Xe(ss),{active:i,dispatch:a,over:c,measureDroppableContainers:d}=l.useContext(Ye),h=l.useRef({disabled:n}),f=l.useRef(!1),p=l.useRef(null),g=l.useRef(null),{disabled:S,updateMeasurementsFor:m,timeout:b}={...os,...s},D=Pe(m??r),v=l.useCallback(()=>{if(!f.current){f.current=!0;return}g.current!=null&&clearTimeout(g.current),g.current=setTimeout(()=>{d(Array.isArray(D.current)?D.current:[D.current]),g.current=null},b)},[b]),x=at({callback:v,disabled:S||!i}),y=l.useCallback((w,T)=>{x&&(T&&(x.unobserve(T),f.current=!1),w&&x.observe(w))},[x]),[R,N]=Qe(y),C=Pe(t);return l.useEffect(()=>{!x||!R.current||(x.disconnect(),f.current=!1,x.observe(R.current))},[R,x]),l.useEffect(()=>(a({type:I.RegisterDroppable,element:{id:r,key:o,disabled:n,node:R,rect:p,data:C}}),()=>a({type:I.UnregisterDroppable,key:o,id:r})),[r]),l.useEffect(()=>{n!==h.current.disabled&&(a({type:I.SetDroppableDisabled,id:r,key:o,disabled:n}),h.current.disabled=n)},[r,o,n,a]),{active:i,rect:p,isOver:(c==null?void 0:c.id)===r,node:R,over:c,setNodeRef:N}}function as(e){let{animation:t,children:n}=e;const[r,s]=l.useState(null),[o,i]=l.useState(null),a=Ze(n);return!n&&!r&&a&&s(a),G(()=>{if(!o)return;const c=r==null?void 0:r.key,d=r==null?void 0:r.props.id;if(c==null||d==null){s(null);return}Promise.resolve(t(d,o)).then(()=>{s(null)})},[t,r,o]),M.createElement(M.Fragment,null,n,r?l.cloneElement(r,{ref:i}):null)}const ls={x:0,y:0,scaleX:1,scaleY:1};function cs(e){let{children:t}=e;return M.createElement(Ye.Provider,{value:mn},M.createElement(lt.Provider,{value:ls},t))}const ds={position:"fixed",touchAction:"none"},us=e=>it(e)?"transform 250ms ease":void 0,fs=l.forwardRef((e,t)=>{let{as:n,activatorEvent:r,adjustScale:s,children:o,className:i,rect:a,style:c,transform:d,transition:h=us}=e;if(!a)return null;const f=s?d:{...d,scaleX:1,scaleY:1},p={...ds,width:a.width,height:a.height,top:a.top,left:a.left,transform:he.Transform.toString(f),transformOrigin:s&&r?sr(r,a):void 0,transition:typeof h=="function"?h(r):h,...c};return M.createElement(n,{className:i,style:p,ref:t},o)}),hs=e=>t=>{let{active:n,dragOverlay:r}=t;const s={},{styles:o,className:i}=e;if(o!=null&&o.active)for(const[a,c]of Object.entries(o.active))c!==void 0&&(s[a]=n.node.style.getPropertyValue(a),n.node.style.setProperty(a,c));if(o!=null&&o.dragOverlay)for(const[a,c]of Object.entries(o.dragOverlay))c!==void 0&&r.node.style.setProperty(a,c);return i!=null&&i.active&&n.node.classList.add(i.active),i!=null&&i.dragOverlay&&r.node.classList.add(i.dragOverlay),function(){for(const[c,d]of Object.entries(s))n.node.style.setProperty(c,d);i!=null&&i.active&&n.node.classList.remove(i.active)}},gs=e=>{let{transform:{initial:t,final:n}}=e;return[{transform:he.Transform.toString(t)},{transform:he.Transform.toString(n)}]},vs={duration:250,easing:"ease",keyframes:gs,sideEffects:hs({styles:{active:{opacity:"0"}}})};function ps(e){let{config:t,draggableNodes:n,droppableContainers:r,measuringConfiguration:s}=e;return ot((o,i)=>{if(t===null)return;const a=n.get(o);if(!a)return;const c=a.node.current;if(!c)return;const d=pn(i);if(!d)return;const{transform:h}=B(i).getComputedStyle(i),f=sn(h);if(!f)return;const p=typeof t=="function"?t:ms(t);return fn(c,s.draggable.measure),p({active:{id:o,data:a.data,node:c,rect:s.draggable.measure(c)},draggableNodes:n,dragOverlay:{node:i,rect:s.dragOverlay.measure(d)},droppableContainers:r,measuringConfiguration:s,transform:f})})}function ms(e){const{duration:t,easing:n,sideEffects:r,keyframes:s}={...vs,...e};return o=>{let{active:i,dragOverlay:a,transform:c,...d}=o;if(!t)return;const h={x:a.rect.left-i.rect.left,y:a.rect.top-i.rect.top},f={scaleX:c.scaleX!==1?i.rect.width*c.scaleX/a.rect.width:1,scaleY:c.scaleY!==1?i.rect.height*c.scaleY/a.rect.height:1},p={x:c.x-h.x,y:c.y-h.y,...f},g=s({...d,active:i,dragOverlay:a,transform:{initial:c,final:p}}),[S]=g,m=g[g.length-1];if(JSON.stringify(S)===JSON.stringify(m))return;const b=r==null?void 0:r({active:i,dragOverlay:a,...d}),D=a.node.animate(g,{duration:t,easing:n,fill:"forwards"});return new Promise(v=>{D.onfinish=()=>{b==null||b(),v()}})}}let Gt=0;function bs(e){return l.useMemo(()=>{if(e!=null)return Gt++,Gt},[e])}const xs=M.memo(e=>{let{adjustScale:t=!1,children:n,dropAnimation:r,style:s,transition:o,modifiers:i,wrapperElement:a="div",className:c,zIndex:d=999}=e;const{activatorEvent:h,active:f,activeNodeRect:p,containerNodeRect:g,draggableNodes:S,droppableContainers:m,dragOverlay:b,over:D,measuringConfiguration:v,scrollableAncestors:x,scrollableAncestorRects:y,windowRect:R}=yn(),N=l.useContext(lt),C=bs(f==null?void 0:f.id),w=xn(i,{activatorEvent:h,active:f,activeNodeRect:p,containerNodeRect:g,draggingNodeRect:b.rect,over:D,overlayNodeRect:b.rect,scrollableAncestors:x,scrollableAncestorRects:y,transform:N,windowRect:R}),T=jt(p),O=ps({config:r,draggableNodes:S,droppableContainers:m,measuringConfiguration:v}),A=T?b.setRef:void 0;return M.createElement(cs,null,M.createElement(as,{animation:O},f&&C?M.createElement(fs,{key:C,id:f.id,ref:A,as:a,activatorEvent:h,adjustScale:t,className:c,transition:o,rect:T,style:{zIndex:d,...s},transform:w},n):null))});function wn(e,t,n){const r=e.slice();return r.splice(n<0?r.length+n:n,0,r.splice(t,1)[0]),r}function ys(e,t){return e.reduce((n,r,s)=>{const o=t.get(r);return o&&(n[s]=o),n},Array(e.length))}function Ge(e){return e!==null&&e>=0}function ws(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function Ds(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const Dn=e=>{let{rects:t,activeIndex:n,overIndex:r,index:s}=e;const o=wn(t,r,n),i=t[s],a=o[s];return!a||!i?null:{x:a.left-i.left,y:a.top-i.top,scaleX:a.width/i.width,scaleY:a.height/i.height}},Je={scaleX:1,scaleY:1},Jt=e=>{var t;let{activeIndex:n,activeNodeRect:r,index:s,rects:o,overIndex:i}=e;const a=(t=o[n])!=null?t:r;if(!a)return null;if(s===n){const d=o[i];return d?{x:0,y:n<i?d.top+d.height-(a.top+a.height):d.top-a.top,...Je}:null}const c=Cs(o,s,n);return s>n&&s<=i?{x:0,y:-a.height-c,...Je}:s<n&&s>=i?{x:0,y:a.height+c,...Je}:{x:0,y:0,...Je}};function Cs(e,t,n){const r=e[t],s=e[t-1],o=e[t+1];return r?n<t?s?r.top-(s.top+s.height):o?o.top-(r.top+r.height):0:o?o.top-(r.top+r.height):s?r.top-(s.top+s.height):0:0}const Cn="Sortable",Sn=M.createContext({activeIndex:-1,containerId:Cn,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:Dn,disabled:{draggable:!1,droppable:!1}});function _t(e){let{children:t,id:n,items:r,strategy:s=Dn,disabled:o=!1}=e;const{active:i,dragOverlay:a,droppableRects:c,over:d,measureDroppableContainers:h}=yn(),f=Xe(Cn,n),p=a.rect!==null,g=l.useMemo(()=>r.map(N=>typeof N=="object"&&"id"in N?N.id:N),[r]),S=i!=null,m=i?g.indexOf(i.id):-1,b=d?g.indexOf(d.id):-1,D=l.useRef(g),v=!ws(g,D.current),x=b!==-1&&m===-1||v,y=Ds(o);G(()=>{v&&S&&h(g)},[v,g,S,h]),l.useEffect(()=>{D.current=g},[g]);const R=l.useMemo(()=>({activeIndex:m,containerId:f,disabled:y,disableTransforms:x,items:g,overIndex:b,useDragOverlay:p,sortedRects:ys(g,c),strategy:s}),[m,f,y.draggable,y.droppable,x,g,b,c,p,s]);return M.createElement(Sn.Provider,{value:R},t)}const Ss=e=>{let{id:t,items:n,activeIndex:r,overIndex:s}=e;return wn(n,r,s).indexOf(t)},Rs=e=>{let{containerId:t,isSorting:n,wasDragging:r,index:s,items:o,newIndex:i,previousItems:a,previousContainerId:c,transition:d}=e;return!d||!r||a!==o&&s===i?!1:n?!0:i!==s&&t===c},Ns={duration:200,easing:"ease"},Rn="transform",Es=he.Transition.toString({property:Rn,duration:0,easing:"linear"}),js={roleDescription:"sortable"};function Ts(e){let{disabled:t,index:n,node:r,rect:s}=e;const[o,i]=l.useState(null),a=l.useRef(n);return G(()=>{if(!t&&n!==a.current&&r.current){const c=s.current;if(c){const d=Se(r.current,{ignoreTransform:!0}),h={x:c.left-d.left,y:c.top-d.top,scaleX:c.width/d.width,scaleY:c.height/d.height};(h.x||h.y)&&i(h)}}n!==a.current&&(a.current=n)},[t,n,r,s]),l.useEffect(()=>{o&&i(null)},[o]),o}function As(e){let{animateLayoutChanges:t=Rs,attributes:n,disabled:r,data:s,getNewIndex:o=Ss,id:i,strategy:a,resizeObserverConfig:c,transition:d=Ns}=e;const{items:h,containerId:f,activeIndex:p,disabled:g,disableTransforms:S,sortedRects:m,overIndex:b,useDragOverlay:D,strategy:v}=l.useContext(Sn),x=Ms(r,g),y=h.indexOf(i),R=l.useMemo(()=>({sortable:{containerId:f,index:y,items:h},...s}),[f,s,y,h]),N=l.useMemo(()=>h.slice(h.indexOf(i)),[h,i]),{rect:C,node:w,isOver:T,setNodeRef:O}=is({id:i,data:R,disabled:x.droppable,resizeObserverConfig:{updateMeasurementsFor:N,...c}}),{active:A,activatorEvent:H,activeNodeRect:q,attributes:_,setNodeRef:Re,listeners:Ke,isDragging:$,over:Ue,setActivatorNodeRef:te,transform:Ne}=rs({id:i,data:R,attributes:{...js,...n},disabled:x.draggable}),We=Yn(O,Re),F=!!A,ne=F&&!S&&Ge(p)&&Ge(b),ge=!D&&$,Ee=ge&&ne?Ne:null,Ve=ne?Ee??(a??v)({rects:m,activeNodeRect:q,activeIndex:p,overIndex:b,index:y}):null,ie=Ge(p)&&Ge(b)?o({id:i,items:h,activeIndex:p,overIndex:b}):y,re=A==null?void 0:A.id,j=l.useRef({activeId:re,items:h,newIndex:ie,containerId:f}),je=h!==j.current.items,Q=t({active:A,containerId:f,isDragging:$,isSorting:F,id:i,index:y,items:h,newIndex:j.current.newIndex,previousItems:j.current.items,previousContainerId:j.current.containerId,transition:d,wasDragging:j.current.activeId!=null}),ve=Ts({disabled:!Q,index:y,node:w,rect:C});return l.useEffect(()=>{F&&j.current.newIndex!==ie&&(j.current.newIndex=ie),f!==j.current.containerId&&(j.current.containerId=f),h!==j.current.items&&(j.current.items=h)},[F,ie,f,h]),l.useEffect(()=>{if(re===j.current.activeId)return;if(re&&!j.current.activeId){j.current.activeId=re;return}const pe=setTimeout(()=>{j.current.activeId=re},50);return()=>clearTimeout(pe)},[re]),{active:A,activeIndex:p,attributes:_,data:R,rect:C,index:y,newIndex:ie,items:h,isOver:T,isSorting:F,isDragging:$,listeners:Ke,node:w,overIndex:b,over:Ue,setNodeRef:We,setActivatorNodeRef:te,setDroppableNodeRef:O,setDraggableNodeRef:Re,transform:ve??Ve,transition:se()};function se(){if(ve||je&&j.current.newIndex===y)return Es;if(!(ge&&!it(H)||!d)&&(F||Q))return he.Transition.toString({...d,property:Rn})}}function Ms(e,t){var n,r;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(n=e==null?void 0:e.draggable)!=null?n:t.draggable,droppable:(r=e==null?void 0:e.droppable)!=null?r:t.droppable}}E.Down,E.Right,E.Up,E.Left;function pt({task:e,onClick:t}){const{attributes:n,listeners:r,setNodeRef:s,transform:o,transition:i,isDragging:a}=As({id:e.id}),c={transform:he.Transform.toString(o),transition:i,opacity:a?.5:1};return u.jsxs("div",{ref:s,style:c,...n,...r,onClick:t,className:"p-3 rounded-lg bg-white/5 border border-white/10 hover:bg-white/10 cursor-pointer transition-colors",children:[u.jsxs("div",{className:"flex items-start justify-between gap-2 mb-2",children:[u.jsx("h4",{className:"text-sm font-medium flex-1",children:e.title}),u.jsx(Qt,{variant:e.status==="closed"?"success":"default",size:"sm",children:e.status})]}),e.note&&u.jsx("p",{className:"text-xs opacity-60 line-clamp-2",children:e.note})]})}function Os({isOpen:e,onClose:t,task:n,onSave:r,onDelete:s}){var g,S;const{register:o,handleSubmit:i,formState:{errors:a},setValue:c,watch:d}=Bn(Xn,{defaultValues:n||void 0}),h=d("status"),f=m=>{n&&(r({...n,...m}),t())},p=()=>{n&&window.confirm("Delete this task?")&&(s(n.id),t())};return n?u.jsx(Fn,{open:e,onClose:t,title:"Edit Task",children:u.jsxs("form",{onSubmit:i(f),className:"space-y-4",children:[u.jsx(mt,{label:"Title",...o("title"),error:(g=a.title)==null?void 0:g.message}),u.jsx(bt,{label:"Notes",...o("note"),error:(S=a.note)==null?void 0:S.message,placeholder:"Add any notes or details...",rows:4}),u.jsxs("div",{children:[u.jsx("label",{className:"text-sm opacity-80 mb-2 block",children:"Status"}),u.jsx($n,{options:[{value:"open",label:"Open"},{value:"closed",label:"Done"}],value:h||"open",onChange:m=>c("status",m)})]}),u.jsxs("div",{className:"flex gap-3 pt-4",children:[u.jsx(P,{type:"button",variant:"danger",onClick:p,children:"Delete"}),u.jsx("div",{className:"flex-1"}),u.jsx(P,{type:"button",variant:"ghost",onClick:t,children:"Cancel"}),u.jsx(P,{type:"submit",variant:"primary",children:"Save"})]})]})}):null}function Is({tasks:e,onUpdateTasks:t}){const[n,r]=l.useState(null),[s,o]=l.useState(null),[i,a]=l.useState(""),[c,d]=l.useState(null),h=rr(nr(Et,{activationConstraint:{distance:8}})),f=e.filter(v=>v.status==="open"),p=e.filter(v=>v.status==="closed"),g=v=>{const x=e.find(y=>y.id===v.active.id);x&&r(x)},S=v=>{const{active:x,over:y}=v;if(r(null),!y)return;const R=x.id,N=e.find(w=>w.id===R);if(!N)return;const C=y.id==="open"?"open":"closed";if(N.status!==C){const w=e.map(T=>T.id===R?{...T,status:C}:T);t(w)}},m=v=>{if(!i.trim())return;const x={id:Zt("task"),title:i,status:v,order:e.filter(y=>y.status===v).length};t([...e,x]),a(""),d(null)},b=v=>{const x=e.map(y=>y.id===v.id?v:y);t(x)},D=v=>{t(e.filter(x=>x.id!==v))};return u.jsxs(u.Fragment,{children:[u.jsxs(es,{sensors:h,onDragStart:g,onDragEnd:S,children:[u.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("h3",{className:"text-lg font-semibold",children:"To Do"}),u.jsx(P,{size:"sm",variant:"ghost",onClick:()=>d("open"),children:"+ Add"})]}),u.jsx(_t,{items:f.map(v=>v.id),strategy:Jt,children:u.jsxs("div",{id:"open",className:"space-y-2 min-h-[200px] p-4 rounded-lg bg-white/5 border-2 border-dashed border-white/10",children:[f.map(v=>u.jsx(pt,{task:v,onClick:()=>o(v)},v.id)),c==="open"&&u.jsxs("div",{className:"p-3 rounded-lg bg-white/10",children:[u.jsx(mt,{placeholder:"Task title...",value:i,onChange:v=>a(v.target.value),onKeyDown:v=>{v.key==="Enter"&&m("open"),v.key==="Escape"&&d(null)},autoFocus:!0}),u.jsxs("div",{className:"flex gap-2 mt-2",children:[u.jsx(P,{size:"sm",onClick:()=>m("open"),children:"Add"}),u.jsx(P,{size:"sm",variant:"ghost",onClick:()=>d(null),children:"Cancel"})]})]})]})})]}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("h3",{className:"text-lg font-semibold",children:"Done"}),u.jsx(P,{size:"sm",variant:"ghost",onClick:()=>d("closed"),children:"+ Add"})]}),u.jsx(_t,{items:p.map(v=>v.id),strategy:Jt,children:u.jsxs("div",{id:"closed",className:"space-y-2 min-h-[200px] p-4 rounded-lg bg-white/5 border-2 border-dashed border-white/10",children:[p.map(v=>u.jsx(pt,{task:v,onClick:()=>o(v)},v.id)),c==="closed"&&u.jsxs("div",{className:"p-3 rounded-lg bg-white/10",children:[u.jsx(mt,{placeholder:"Task title...",value:i,onChange:v=>a(v.target.value),onKeyDown:v=>{v.key==="Enter"&&m("closed"),v.key==="Escape"&&d(null)},autoFocus:!0}),u.jsxs("div",{className:"flex gap-2 mt-2",children:[u.jsx(P,{size:"sm",onClick:()=>m("closed"),children:"Add"}),u.jsx(P,{size:"sm",variant:"ghost",onClick:()=>d(null),children:"Cancel"})]})]})]})})]})]}),u.jsx(xs,{children:n?u.jsx(pt,{task:n,onClick:()=>{}}):null})]}),u.jsx(Os,{isOpen:!!s,onClose:()=>o(null),task:s,onSave:b,onDelete:D})]})}function ks({notes:e,onUpdateNotes:t}){const[n,r]=l.useState(""),[s,o]=l.useState(null),i=()=>{if(!n.trim())return;const d={id:Zt("note"),content:n,createdAt:Date.now(),updatedAt:Date.now()};t([...e,d]),r("")},a=(d,h)=>{t(e.map(f=>f.id===d?{...f,content:h,updatedAt:Date.now()}:f)),o(null)},c=d=>{window.confirm("Delete this note?")&&t(e.filter(h=>h.id!==d))};return u.jsxs("div",{className:"space-y-4",children:[u.jsx("h3",{className:"text-lg font-semibold",children:"Notes"}),u.jsx("div",{className:"space-y-3",children:e.map(d=>u.jsx("div",{className:"p-3 rounded-lg bg-white/5 border border-white/10",children:s===d.id?u.jsxs("div",{className:"space-y-2",children:[u.jsx(bt,{value:d.content,onChange:h=>t(e.map(f=>f.id===d.id?{...f,content:h.target.value}:f)),rows:3}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx(P,{size:"sm",onClick:()=>a(d.id,d.content),children:"Save"}),u.jsx(P,{size:"sm",variant:"ghost",onClick:()=>o(null),children:"Cancel"})]})]}):u.jsxs(u.Fragment,{children:[u.jsx("p",{className:"text-sm whitespace-pre-wrap mb-2",children:d.content}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("p",{className:"text-xs opacity-40",children:new Date(d.createdAt).toLocaleDateString()}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{onClick:()=>o(d.id),className:"text-xs opacity-60 hover:opacity-100",children:"Edit"}),u.jsx("button",{onClick:()=>c(d.id),className:"text-xs opacity-60 hover:opacity-100 text-red-400",children:"Delete"})]})]})]})},d.id))}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(bt,{placeholder:"Add a note...",value:n,onChange:d=>r(d.target.value),rows:3}),u.jsx(P,{onClick:i,disabled:!n.trim(),children:"Add Note"})]})]})}function $s(){const{id:e}=kn(),t=Ln(),n=zn(e),{updateRehearsal:r,deleteRehearsal:s,duplicateRehearsal:o}=Pn();if(!n)return u.jsxs("div",{className:"py-12 text-center",children:[u.jsx("p",{className:"text-lg opacity-60 mb-4",children:"Rehearsal not found"}),u.jsx(P,{onClick:()=>t("/rehearsals"),children:"Back to Rehearsals"})]});const i=n.tasks.filter(g=>g.status==="closed").length,a=n.tasks.length,c=a>0?Math.round(i/a*100):0,d=async g=>{await r({...n,tasks:g,updatedAt:Date.now()})},h=async g=>{await r({...n,notes:g,updatedAt:Date.now()})},f=async()=>{window.confirm(`Delete "${n.eventName}"? This cannot be undone.`)&&(await s(n.id),t("/rehearsals"))},p=async()=>{await o(n.id),t("/rehearsals")};return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"glass rounded-xl p-6",children:[u.jsxs("div",{className:"flex items-start justify-between gap-4 mb-4",children:[u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[u.jsx("h1",{className:"text-3xl font-bold",children:n.eventName}),n.templateId&&u.jsx(Qt,{variant:"info",size:"sm",children:"From Template"})]}),u.jsxs("p",{className:"text-lg opacity-80",children:[Pt(n.date,"EEEE, MMMM d, yyyy")," at"," ",Pt(n.date,"h:mm a")]}),n.location&&u.jsx("p",{className:"text-sm opacity-60 mt-1",children:n.location})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx(P,{size:"sm",variant:"ghost",onClick:p,children:"Duplicate"}),u.jsx(P,{size:"sm",variant:"ghost",onClick:()=>t("/rehearsals"),children:"Back"}),u.jsx(P,{size:"sm",variant:"danger",onClick:f,children:"Delete"})]})]}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center justify-between text-sm mb-2",children:[u.jsx("span",{className:"opacity-60",children:"Overall Progress"}),u.jsxs("span",{className:"font-medium",children:[i,"/",a," tasks (",c,"%)"]})]}),u.jsx("div",{className:"h-3 bg-white/10 rounded-full overflow-hidden",children:u.jsx("div",{className:"h-full bg-gradient-to-r from-primary to-success transition-all duration-300",style:{width:`${c}%`}})})]})]}),u.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[u.jsx("div",{className:"lg:col-span-2",children:u.jsxs("div",{className:"glass rounded-xl p-6",children:[u.jsx("h2",{className:"text-xl font-semibold mb-6",children:"Tasks"}),u.jsx(Is,{tasks:n.tasks,onUpdateTasks:d})]})}),u.jsxs("div",{className:"space-y-6",children:[u.jsx("div",{className:"glass rounded-xl p-6",children:u.jsx(ks,{notes:n.notes||[],onUpdateNotes:h})}),u.jsxs("div",{className:"glass rounded-xl p-6",children:[u.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Details"}),u.jsxs("div",{className:"space-y-2 text-sm",children:[u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"opacity-60",children:"Created"}),u.jsx("span",{children:new Date(n.createdAt).toLocaleDateString()})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"opacity-60",children:"Last updated"}),u.jsx("span",{children:new Date(n.updatedAt).toLocaleDateString()})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"opacity-60",children:"Total tasks"}),u.jsx("span",{children:a})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"opacity-60",children:"Completed"}),u.jsx("span",{children:i})]})]})]})]})]})]})}export{$s as default};
