import{m as y,h as D,i as c,j as p,a as h}from"./index-CyHvHqSZ.js";import{f as R}from"./Button-D-SvA5Xw.js";function x(e,t){const n=I(e);let s;if(n.date){const a=G(n.date,2);s=M(a.restDateString,a.year)}if(!s||isNaN(s.getTime()))return new Date(NaN);const i=s.getTime();let o=0,l;if(n.time&&(o=O(n.time),isNaN(o)))return new Date(NaN);if(n.timezone){if(l=S(n.timezone),isNaN(l))return new Date(NaN)}else{const a=new Date(i+o),u=new Date(0);return u.setFullYear(a.getUTCFullYear(),a.getUTCMonth(),a.getUTCDate()),u.setHours(a.getUTCHours(),a.getUTCMinutes(),a.getUTCSeconds(),a.getUTCMilliseconds()),u}return new Date(i+o+l)}const f={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},T=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,w=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,U=/^([+-])(\d{2})(?::?(\d{2}))?$/;function I(e){const t={},r=e.split(f.dateTimeDelimiter);let n;if(r.length>2)return t;if(/:/.test(r[0])?n=r[0]:(t.date=r[0],n=r[1],f.timeZoneDelimiter.test(t.date)&&(t.date=e.split(f.timeZoneDelimiter)[0],n=e.substr(t.date.length,e.length))),n){const s=f.timezone.exec(n);s?(t.time=n.replace(s[1],""),t.timezone=s[1]):t.time=n}return t}function G(e,t){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),n=e.match(r);if(!n)return{year:NaN,restDateString:""};const s=n[1]?parseInt(n[1]):null,i=n[2]?parseInt(n[2]):null;return{year:i===null?s:i*100,restDateString:e.slice((n[1]||n[2]).length)}}function M(e,t){if(t===null)return new Date(NaN);const r=e.match(T);if(!r)return new Date(NaN);const n=!!r[4],s=d(r[1]),i=d(r[2])-1,o=d(r[3]),l=d(r[4]),a=d(r[5])-1;if(n)return Y(t,l,a)?C(t,l,a):new Date(NaN);{const u=new Date(0);return!z(t,i,o)||!k(t,s)?new Date(NaN):(u.setUTCFullYear(t,i,Math.max(s,o)),u)}}function d(e){return e?parseInt(e):1}function O(e){const t=e.match(w);if(!t)return NaN;const r=m(t[1]),n=m(t[2]),s=m(t[3]);return P(r,n,s)?r*y+n*D+s*1e3:NaN}function m(e){return e&&parseFloat(e.replace(",","."))||0}function S(e){if(e==="Z")return 0;const t=e.match(U);if(!t)return 0;const r=t[1]==="+"?-1:1,n=parseInt(t[2]),s=t[3]&&parseInt(t[3])||0;return Z(n,s)?r*(n*y+s*D):NaN}function C(e,t,r){const n=new Date(0);n.setUTCFullYear(e,0,4);const s=n.getUTCDay()||7,i=(t-1)*7+r+1-s;return n.setUTCDate(n.getUTCDate()+i),n}const b=[31,null,31,30,31,30,31,31,30,31,30,31];function N(e){return e%400===0||e%4===0&&e%100!==0}function z(e,t,r){return t>=0&&t<=11&&r>=1&&r<=(b[t]||(N(e)?29:28))}function k(e,t){return t>=1&&t<=(N(e)?366:365)}function Y(e,t,r){return t>=1&&t<=53&&r>=0&&r<=6}function P(e,t,r){return e===24?t===0&&r===0:r>=0&&r<60&&t>=0&&t<60&&e>=0&&e<25}function Z(e,t){return t>=0&&t<=59}function g(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[n,s]of e)if(!Object.is(s,t.get(n)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!1;for(const n of r)if(!Object.prototype.hasOwnProperty.call(t,n)||!Object.is(e[n],t[n]))return!1;return!0}const W=()=>c(e=>({rehearsals:e.rehearsals,loading:e.loading,error:e.error,loadRehearsals:e.loadRehearsals,addRehearsal:e.addRehearsal,updateRehearsal:e.updateRehearsal,deleteRehearsal:e.deleteRehearsal,duplicateRehearsal:e.duplicateRehearsal,selectRehearsalById:e.selectRehearsalById,selectUpcomingRehearsals:e.selectUpcomingRehearsals,selectRehearsalsByDateRange:e.selectRehearsalsByDateRange}),g),v=()=>c(e=>({gigs:e.gigs,loading:e.loading,error:e.error,loadGigs:e.loadGigs,addGig:e.addGig,updateGig:e.updateGig,deleteGig:e.deleteGig,selectGigById:e.selectGigById,selectUpcomingGigs:e.selectUpcomingGigs,selectGigsByMonth:e.selectGigsByMonth}),g),B=()=>c(e=>({sidebarOpen:e.sidebarOpen,commandPaletteOpen:e.commandPaletteOpen,theme:e.theme,activeModal:e.activeModal,toggleSidebar:e.toggleSidebar,setSidebarOpen:e.setSidebarOpen,openCommandPalette:e.openCommandPalette,closeCommandPalette:e.closeCommandPalette,setTheme:e.setTheme,openModal:e.openModal,closeModal:e.closeModal}),g),E=()=>c(e=>({settings:e.settings,updateSettings:e.updateSettings,resetSettings:e.resetSettings}),g),H=()=>c(e=>{const t=e.selectUpcomingRehearsals().map(n=>({...n,type:"rehearsal"})),r=e.selectUpcomingGigs().map(n=>({...n,type:"gig"}));return[...t,...r].sort((n,s)=>n.date.localeCompare(s.date))}),_=e=>c(t=>t.selectRehearsalById(e)),J=e=>c(t=>t.selectGigById(e));function L({variant:e="default",size:t="md",dot:r=!1,children:n,className:s,...i}){const o={default:"bg-muted text-foreground",success:"bg-success/20 text-success border border-success/30",warning:"bg-warning/20 text-warning border border-warning/30",error:"bg-error/20 text-error border border-error/30",info:"bg-info/20 text-info border border-info/30"},l={sm:"text-xs px-2 py-0.5",md:"text-sm px-2.5 py-1",lg:"text-base px-3 py-1.5"};return p.jsxs("span",{className:h("inline-flex items-center gap-1.5 font-medium rounded-full",o[e],l[t],s),...i,children:[r&&p.jsx("span",{className:h("w-1.5 h-1.5 rounded-full",e==="default"&&"bg-foreground",e==="success"&&"bg-success",e==="warning"&&"bg-warning",e==="error"&&"bg-error",e==="info"&&"bg-info")}),n]})}function q(e,t="MMM d, yyyy h:mma"){try{return R(x(e),t)}catch{return e}}export{L as B,W as a,v as b,E as c,B as d,_ as e,q as f,J as g,H as u};
